import{s as J,a as S,f as w,l as E,x as K,d as u,c as y,g as C,h as T,y as Q,m as x,D as X,j as v,i as N,u as i,o as Y,n as R,v as f}from"../chunks/scheduler.88299003.js";import{h as D,u as Z}from"../chunks/await_block.7017edd9.js";import{S as ee,i as te,b as L,d as M,m as O,a as W,t as B,e as F}from"../chunks/index.15b414ac.js";import{v as G}from"../chunks/environment.299fddab.js";import{b as se}from"../chunks/paths.600dabf7.js";import{H as ae}from"../chunks/Heading1.cc3919c5.js";import{T as ne}from"../chunks/TextButton.2f318c50.js";function oe(n){let s;return{c(){s=E("About")},l(e){s=x(e,"About")},m(e,t){N(e,s,t)},d(e){e&&u(s)}}}function re(n){return{c:f,l:f,m:f,p:f,d:f}}function le(n){var l,o;let s,e=((o=(l=n[3])==null?void 0:l.sha)==null?void 0:o.substring(0,7))+"",t;return{c(){s=E(", Newest is: "),t=E(e)},l(a){s=x(a,", Newest is: "),t=x(a,e)},m(a,_){N(a,s,_),N(a,t,_)},p(a,_){var k,p;_&2&&e!==(e=((p=(k=a[3])==null?void 0:k.sha)==null?void 0:p.substring(0,7))+"")&&R(t,e)},d(a){a&&(u(s),u(t))}}}function ce(n){return{c:f,l:f,m:f,p:f,d:f}}function ie(n){let s=n[0]?"Loading...":"Update",e;return{c(){e=E(s)},l(t){e=x(t,s)},m(t,l){N(t,e,l)},p(t,l){l&1&&s!==(s=t[0]?"Loading...":"Update")&&R(e,s)},d(t){t&&u(e)}}}function ue(n){let s,e,t,l,o,a,_,k,p,q="kurosearch",H,$,U,V,A,j,b,d,I;t=new ae({props:{$$slots:{default:[oe]},$$scope:{ctx:n}}});let c={ctx:n,current:null,token:null,hasCatch:!1,pending:ce,then:le,catch:re,value:3};return D(A=n[1],c),d=new ne({props:{title:"Force an update of the app",$$slots:{default:[ie]},$$scope:{ctx:n}}}),d.$on("click",n[2]),{c(){s=S(),e=w("div"),L(t.$$.fragment),l=S(),o=w("section"),a=w("img"),k=S(),p=w("h2"),p.textContent=q,H=S(),$=w("span"),U=E("Version: "),V=E(G),c.block.c(),j=S(),b=w("section"),L(d.$$.fragment),this.h()},l(r){K("svelte-lkhoy5",document.head).forEach(u),s=y(r),e=C(r,"DIV",{class:!0});var h=T(e);M(t.$$.fragment,h),l=y(h),o=C(h,"SECTION",{class:!0});var g=T(o);a=C(g,"IMG",{src:!0,alt:!0,class:!0}),k=y(g),p=C(g,"H2",{class:!0,"data-svelte-h":!0}),Q(p)!=="svelte-1okuyk9"&&(p.textContent=q),H=y(g),$=C(g,"SPAN",{});var P=T($);U=x(P,"Version: "),V=x(P,G),c.block.l(P),P.forEach(u),g.forEach(u),j=y(h),b=C(h,"SECTION",{class:!0});var z=T(b);M(d.$$.fragment,z),z.forEach(u),h.forEach(u),this.h()},h(){document.title="kurosearch - About",X(a.src,_=se+"/favicon.svg")||v(a,"src",_),v(a,"alt","kuroseach logo"),v(a,"class","svelte-drpeup"),v(p,"class","svelte-drpeup"),v(o,"class","info svelte-drpeup"),v(b,"class","update svelte-drpeup"),v(e,"class","svelte-drpeup")},m(r,m){N(r,s,m),N(r,e,m),O(t,e,null),i(e,l),i(e,o),i(o,a),i(o,k),i(o,p),i(o,H),i(o,$),i($,U),i($,V),c.block.m($,c.anchor=null),c.mount=()=>$,c.anchor=null,i(e,j),i(e,b),O(d,b,null),I=!0},p(r,[m]){n=r;const h={};m&16&&(h.$$scope={dirty:m,ctx:n}),t.$set(h),c.ctx=n,m&2&&A!==(A=n[1])&&D(A,c)||Z(c,n,m);const g={};m&17&&(g.$$scope={dirty:m,ctx:n}),d.$set(g)},i(r){I||(W(t.$$.fragment,r),W(d.$$.fragment,r),I=!0)},o(r){B(t.$$.fragment,r),B(d.$$.fragment,r),I=!1},d(r){r&&(u(s),u(e)),F(t),c.block.d(),c.token=null,c=null,F(d)}}}function pe(n,s,e){let t=!1,l;const o=async()=>{if(e(0,t=!0),"serviceWorker"in navigator){const a=await navigator.serviceWorker.getRegistrations();await Promise.all(a.map(_=>_.update()))}window.location.reload(!0),e(0,t=!1)};return Y(()=>{e(1,l=fetch("https://api.github.com/repos/kurozenzen/kurosearch/commits/main").then(a=>a.json()))}),[t,l,o]}class ve extends ee{constructor(s){super(),te(this,s,pe,ue,J,{})}}export{ve as component};
