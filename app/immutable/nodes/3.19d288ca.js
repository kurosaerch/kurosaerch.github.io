import{s as ie,a as k,f as C,l as P,x as ue,d as i,c as b,g as w,h as W,y as te,m as S,D as fe,j as d,i as _,u as c,o as me,n as ce,v as p}from"../chunks/scheduler.88299003.js";import{h as ae,u as $e}from"../chunks/await_block.7017edd9.js";import{S as pe,i as he,b as V,d as q,m as A,a as H,t as M,e as z}from"../chunks/index.15b414ac.js";import{v as oe}from"../chunks/environment.1fa9daf3.js";import{b as ee}from"../chunks/paths.6a57291d.js";import{H as de,a as le}from"../chunks/Heading3.0318d9ca.js";import{I as re}from"../chunks/IconLink.5986ef68.js";import{T as _e}from"../chunks/TextButton.2f318c50.js";function ge(n){let t;return{c(){t=P("About")},l(e){t=S(e,"About")},m(e,s){_(e,t,s)},d(e){e&&i(t)}}}function ve(n){let t;return{c(){t=P("Version")},l(e){t=S(e,"Version")},m(e,s){_(e,t,s)},d(e){e&&i(t)}}}function ke(n){return{c:p,l:p,m:p,p,d:p}}function be(n){var f,m;let t,e=((m=(f=n[3])==null?void 0:f.sha)==null?void 0:m.substring(0,7))+"",s;return{c(){t=P(", Newest is: "),s=P(e)},l(l){t=S(l,", Newest is: "),s=S(l,e)},m(l,r){_(l,t,r),_(l,s,r)},p(l,r){var h,L;r&2&&e!==(e=((L=(h=l[3])==null?void 0:h.sha)==null?void 0:L.substring(0,7))+"")&&ce(s,e)},d(l){l&&(i(t),i(s))}}}function Ce(n){return{c:p,l:p,m:p,p,d:p}}function we(n){let t;return{c(){t=P(n[0])},l(e){t=S(e,n[0])},m(e,s){_(e,t,s)},p(e,s){s&1&&ce(t,e[0])},d(e){e&&i(t)}}}function xe(n){let t;return{c(){t=P("More Info")},l(e){t=S(e,"More Info")},m(e,s){_(e,t,s)},d(e){e&&i(t)}}}function Ie(n){let t,e="Debug Information";return{c(){t=C("p"),t.textContent=e,this.h()},l(s){t=w(s,"P",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-1flnq1l"&&(t.textContent=e),this.h()},h(){d(t,"class","svelte-1jsrvde")},m(s,f){_(s,t,f)},p,d(s){s&&i(t)}}}function je(n){let t,e="Rule34.xxx URL Comparison";return{c(){t=C("p"),t.textContent=e,this.h()},l(s){t=w(s,"P",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-1x54zdn"&&(t.textContent=e),this.h()},h(){d(t,"class","svelte-1jsrvde")},m(s,f){_(s,t,f)},p,d(s){s&&i(t)}}}function Ee(n){let t,e,s,f,m,l,r,h,L,G,D,se="kurosearch",J,x,K,Q,B,X,U,g,Y,I,Z,j,E,y,N,F;s=new de({props:{$$slots:{default:[ge]},$$scope:{ctx:n}}}),m=new le({props:{$$slots:{default:[ve]},$$scope:{ctx:n}}});let $={ctx:n,current:null,token:null,hasCatch:!1,pending:Ce,then:be,catch:ke,value:3};return ae(B=n[1],$),g=new _e({props:{title:"Force an update of the app",$$slots:{default:[we]},$$scope:{ctx:n}}}),g.$on("click",n[2]),I=new le({props:{$$slots:{default:[xe]},$$scope:{ctx:n}}}),E=new re({props:{title:"Debug Information",className:"codicon codicon-link",href:ee+"/debug",$$slots:{default:[Ie]},$$scope:{ctx:n}}}),N=new re({props:{title:"Rule34.xxx URL Comparison",className:"codicon codicon-link",href:ee+"/query",$$slots:{default:[je]},$$scope:{ctx:n}}}),{c(){t=k(),e=C("div"),V(s.$$.fragment),f=k(),V(m.$$.fragment),l=k(),r=C("section"),h=C("img"),G=k(),D=C("h2"),D.textContent=se,J=k(),x=C("span"),K=P("Version: "),Q=P(oe),$.block.c(),X=k(),U=C("section"),V(g.$$.fragment),Y=k(),V(I.$$.fragment),Z=k(),j=C("section"),V(E.$$.fragment),y=k(),V(N.$$.fragment),this.h()},l(a){ue("svelte-lkhoy5",document.head).forEach(i),t=b(a),e=w(a,"DIV",{class:!0});var u=W(e);q(s.$$.fragment,u),f=b(u),q(m.$$.fragment,u),l=b(u),r=w(u,"SECTION",{class:!0});var v=W(r);h=w(v,"IMG",{src:!0,alt:!0,class:!0}),G=b(v),D=w(v,"H2",{class:!0,"data-svelte-h":!0}),te(D)!=="svelte-1okuyk9"&&(D.textContent=se),J=b(v),x=w(v,"SPAN",{});var R=W(x);K=S(R,"Version: "),Q=S(R,oe),$.block.l(R),R.forEach(i),v.forEach(i),X=b(u),U=w(u,"SECTION",{class:!0});var O=W(U);q(g.$$.fragment,O),O.forEach(i),Y=b(u),q(I.$$.fragment,u),Z=b(u),j=w(u,"SECTION",{class:!0});var T=W(j);q(E.$$.fragment,T),y=b(T),q(N.$$.fragment,T),T.forEach(i),u.forEach(i),this.h()},h(){document.title="kurosearch - About",fe(h.src,L=ee+"/favicon.svg")||d(h,"src",L),d(h,"alt","kuroseach logo"),d(h,"class","svelte-1jsrvde"),d(D,"class","svelte-1jsrvde"),d(r,"class","info svelte-1jsrvde"),d(U,"class","update svelte-1jsrvde"),d(j,"class","more svelte-1jsrvde"),d(e,"class","svelte-1jsrvde")},m(a,o){_(a,t,o),_(a,e,o),A(s,e,null),c(e,f),A(m,e,null),c(e,l),c(e,r),c(r,h),c(r,G),c(r,D),c(r,J),c(r,x),c(x,K),c(x,Q),$.block.m(x,$.anchor=null),$.mount=()=>x,$.anchor=null,c(e,X),c(e,U),A(g,U,null),c(e,Y),A(I,e,null),c(e,Z),c(e,j),A(E,j,null),c(j,y),A(N,j,null),F=!0},p(a,[o]){n=a;const u={};o&16&&(u.$$scope={dirty:o,ctx:n}),s.$set(u);const v={};o&16&&(v.$$scope={dirty:o,ctx:n}),m.$set(v),$.ctx=n,o&2&&B!==(B=n[1])&&ae(B,$)||$e($,n,o);const R={};o&17&&(R.$$scope={dirty:o,ctx:n}),g.$set(R);const O={};o&16&&(O.$$scope={dirty:o,ctx:n}),I.$set(O);const T={};o&16&&(T.$$scope={dirty:o,ctx:n}),E.$set(T);const ne={};o&16&&(ne.$$scope={dirty:o,ctx:n}),N.$set(ne)},i(a){F||(H(s.$$.fragment,a),H(m.$$.fragment,a),H(g.$$.fragment,a),H(I.$$.fragment,a),H(E.$$.fragment,a),H(N.$$.fragment,a),F=!0)},o(a){M(s.$$.fragment,a),M(m.$$.fragment,a),M(g.$$.fragment,a),M(I.$$.fragment,a),M(E.$$.fragment,a),M(N.$$.fragment,a),F=!1},d(a){a&&(i(t),i(e)),z(s),z(m),$.block.d(),$.token=null,$=null,z(g),z(I),z(E),z(N)}}}function Ne(n,t,e){let s="Update",f;const m=async()=>{if(e(0,s="Updating..."),"serviceWorker"in navigator){const l=await navigator.serviceWorker.getRegistrations();await Promise.all(l.map(r=>r.update()))}window.location.reload(!0),e(0,s="Done")};return me(()=>{e(1,f=fetch("https://api.github.com/repos/kurozenzen/kurosearch/commits/main").then(l=>l.json()))}),[s,f,m]}class Ae extends pe{constructor(t){super(),he(this,t,Ne,Ee,ie,{})}}export{Ae as component};
