import{s as K,a as x,f as w,l as E,x as L,d as i,c as y,g as C,h as T,y as Q,m as N,D as X,j as v,i as S,u as c,o as Y,n as J,v as m}from"../chunks/scheduler.88299003.js";import{h as z,u as Z}from"../chunks/await_block.7017edd9.js";import{S as ee,i as te,b as M,d as O,m as W,a as B,t as F,e as G}from"../chunks/index.15b414ac.js";import{v as R}from"../chunks/environment.26e44479.js";import{b as se}from"../chunks/paths.689b7ee9.js";import{H as ae}from"../chunks/Heading1.cc3919c5.js";import{T as ne}from"../chunks/TextButton.2f318c50.js";function oe(a){let s;return{c(){s=E("About")},l(e){s=N(e,"About")},m(e,t){S(e,s,t)},d(e){e&&i(s)}}}function re(a){return{c:m,l:m,m,p:m,d:m}}function le(a){var f,o;let s,e=((o=(f=a[3])==null?void 0:f.sha)==null?void 0:o.substring(0,7))+"",t;return{c(){s=E(", Newest is: "),t=E(e)},l(n){s=N(n,", Newest is: "),t=N(n,e)},m(n,_){S(n,s,_),S(n,t,_)},p(n,_){var k,u;_&2&&e!==(e=((u=(k=n[3])==null?void 0:k.sha)==null?void 0:u.substring(0,7))+"")&&J(t,e)},d(n){n&&(i(s),i(t))}}}function ce(a){return{c:m,l:m,m,p:m,d:m}}function ie(a){let s;return{c(){s=E(a[0])},l(e){s=N(e,a[0])},m(e,t){S(e,s,t)},p(e,t){t&1&&J(s,e[0])},d(e){e&&i(s)}}}function ue(a){let s,e,t,f,o,n,_,k,u,j="kurosearch",D,$,H,U,A,V,b,d,I;t=new ae({props:{$$slots:{default:[oe]},$$scope:{ctx:a}}});let l={ctx:a,current:null,token:null,hasCatch:!1,pending:ce,then:le,catch:re,value:3};return z(A=a[1],l),d=new ne({props:{title:"Force an update of the app",$$slots:{default:[ie]},$$scope:{ctx:a}}}),d.$on("click",a[2]),{c(){s=x(),e=w("div"),M(t.$$.fragment),f=x(),o=w("section"),n=w("img"),k=x(),u=w("h2"),u.textContent=j,D=x(),$=w("span"),H=E("Version: "),U=E(R),l.block.c(),V=x(),b=w("section"),M(d.$$.fragment),this.h()},l(r){L("svelte-lkhoy5",document.head).forEach(i),s=y(r),e=C(r,"DIV",{class:!0});var h=T(e);O(t.$$.fragment,h),f=y(h),o=C(h,"SECTION",{class:!0});var g=T(o);n=C(g,"IMG",{src:!0,alt:!0,class:!0}),k=y(g),u=C(g,"H2",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-1okuyk9"&&(u.textContent=j),D=y(g),$=C(g,"SPAN",{});var P=T($);H=N(P,"Version: "),U=N(P,R),l.block.l(P),P.forEach(i),g.forEach(i),V=y(h),b=C(h,"SECTION",{class:!0});var q=T(b);O(d.$$.fragment,q),q.forEach(i),h.forEach(i),this.h()},h(){document.title="kurosearch - About",X(n.src,_=se+"/favicon.svg")||v(n,"src",_),v(n,"alt","kuroseach logo"),v(n,"class","svelte-drpeup"),v(u,"class","svelte-drpeup"),v(o,"class","info svelte-drpeup"),v(b,"class","update svelte-drpeup"),v(e,"class","svelte-drpeup")},m(r,p){S(r,s,p),S(r,e,p),W(t,e,null),c(e,f),c(e,o),c(o,n),c(o,k),c(o,u),c(o,D),c(o,$),c($,H),c($,U),l.block.m($,l.anchor=null),l.mount=()=>$,l.anchor=null,c(e,V),c(e,b),W(d,b,null),I=!0},p(r,[p]){a=r;const h={};p&16&&(h.$$scope={dirty:p,ctx:a}),t.$set(h),l.ctx=a,p&2&&A!==(A=a[1])&&z(A,l)||Z(l,a,p);const g={};p&17&&(g.$$scope={dirty:p,ctx:a}),d.$set(g)},i(r){I||(B(t.$$.fragment,r),B(d.$$.fragment,r),I=!0)},o(r){F(t.$$.fragment,r),F(d.$$.fragment,r),I=!1},d(r){r&&(i(s),i(e)),G(t),l.block.d(),l.token=null,l=null,G(d)}}}function pe(a,s,e){let t="Update",f;const o=async()=>{if(e(0,t="Updating..."),"serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(_=>_.update()))}window.location.reload(!0),e(0,t="Done")};return Y(()=>{e(1,f=fetch("https://api.github.com/repos/kurozenzen/kurosearch/commits/main").then(n=>n.json()))}),[t,f,o]}class ve extends ee{constructor(s){super(),te(this,s,pe,ue,K,{})}}export{ve as component};
