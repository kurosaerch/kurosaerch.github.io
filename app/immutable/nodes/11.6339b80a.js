import{s as y,e as p,i as f,d as m,f as h,a as v,g as b,y as w,c as S,v as s,l as C,h as P,m as T,u as L}from"../chunks/scheduler.32f194ce.js";import{h as q,u as A}from"../chunks/await_block.af8be678.js";import{S as N,i as O,a as _,t as d,b as g,d as k,m as $,e as x}from"../chunks/index.aa0a4971.js";import{S as D}from"../chunks/Searchbar.8dc7cc85.js";import{L as E}from"../chunks/LoadingAnimation.1752780f.js";import{g as F}from"../chunks/tags.49324235.js";function H(l){let t,a="Tags",e,n,r;return n=new D({props:{placeholder:"Search for a tag...",fetchSuggestions:F}}),n.$on("pick",l[2]),{c(){t=h("h1"),t.textContent=a,e=v(),g(n.$$.fragment)},l(o){t=b(o,"H1",{"data-svelte-h":!0}),w(t)!=="svelte-6btv9t"&&(t.textContent=a),e=S(o),k(n.$$.fragment,o)},m(o,u){f(o,t,u),f(o,e,u),$(n,o,u),r=!0},p:s,i(o){r||(_(n.$$.fragment,o),r=!0)},o(o){d(n.$$.fragment,o),r=!1},d(o){o&&(m(t),m(e)),x(n,o)}}}function J(l){let t,a,e={ctx:l,current:null,token:null,hasCatch:!1,pending:U,then:R,catch:M,value:3,blocks:[,,,]};return q(l[1](l[0]),e),{c(){t=p(),e.block.c()},l(n){t=p(),e.block.l(n)},m(n,r){f(n,t,r),e.block.m(n,e.anchor=r),e.mount=()=>t.parentNode,e.anchor=t,a=!0},p(n,r){l=n,A(e,l,r)},i(n){a||(_(e.block),a=!0)},o(n){for(let r=0;r<3;r+=1){const o=e.blocks[r];d(o)}a=!1},d(n){n&&m(t),e.block.d(n),e.token=null,e=null}}}function M(l){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function R(l){let t,a=l[3]+"",e;return{c(){t=h("p"),e=C(a)},l(n){t=b(n,"P",{});var r=P(t);e=T(r,a),r.forEach(m)},m(n,r){f(n,t,r),L(t,e)},p:s,i:s,o:s,d(n){n&&m(t)}}}function U(l){let t,a;return t=new E({}),{c(){g(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){$(t,e,n),a=!0},p:s,i(e){a||(_(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){x(t,e)}}}function j(l){let t,a,e,n;const r=[J,H],o=[];function u(c,i){return c[0]?0:1}return t=u(l),a=o[t]=r[t](l),{c(){a.c(),e=p()},l(c){a.l(c),e=p()},m(c,i){o[t].m(c,i),f(c,e,i),n=!0},p(c,[i]){a.p(c,i)},i(c){n||(_(a),n=!0)},o(c){d(a),n=!1},d(c){c&&m(e),o[t].d(c)}}}function z(l){const t=new URL(document.location.href).searchParams.get("name");return console.log(t),[t,async n=>{const o=await(await fetch(`https://rule34.xxx/index.php?page=tags&s=list&tags=${n}&sort=asc&order_by=index_count`)).text(),i=new DOMParser().parseFromString(o,"text/xml").querySelectorAll("#content tr td").values();return JSON.stringify(i)},n=>{window.location.href="/tag?name="+n.detail.label}]}class W extends N{constructor(t){super(),O(this,t,z,j,y,{})}}export{W as component};
