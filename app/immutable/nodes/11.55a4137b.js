import{s as y,e as p,i as f,d as u,f as h,a as v,g as b,y as w,c as S,v as s,l as C,h as P,m as T,u as L}from"../chunks/scheduler.19d3c358.js";import{h as q,u as A}from"../chunks/await_block.6b55c79b.js";import{S as N,i as O,a as _,t as d,b as g,d as k,m as $,e as x}from"../chunks/index.2b8f9697.js";import{S as D}from"../chunks/Searchbar.fe06fd75.js";import{L as E}from"../chunks/LoadingAnimation.54d99227.js";import{g as F}from"../chunks/tags.49324235.js";function H(l){let t,a="Tags",e,n,o;return n=new D({props:{placeholder:"Search for a tag...",fetchSuggestions:F}}),n.$on("pick",l[2]),{c(){t=h("h1"),t.textContent=a,e=v(),g(n.$$.fragment)},l(r){t=b(r,"H1",{"data-svelte-h":!0}),w(t)!=="svelte-6btv9t"&&(t.textContent=a),e=S(r),k(n.$$.fragment,r)},m(r,m){f(r,t,m),f(r,e,m),$(n,r,m),o=!0},p:s,i(r){o||(_(n.$$.fragment,r),o=!0)},o(r){d(n.$$.fragment,r),o=!1},d(r){r&&(u(t),u(e)),x(n,r)}}}function J(l){let t,a,e={ctx:l,current:null,token:null,hasCatch:!1,pending:U,then:R,catch:M,value:3,blocks:[,,,]};return q(l[1](l[0]),e),{c(){t=p(),e.block.c()},l(n){t=p(),e.block.l(n)},m(n,o){f(n,t,o),e.block.m(n,e.anchor=o),e.mount=()=>t.parentNode,e.anchor=t,a=!0},p(n,o){l=n,A(e,l,o)},i(n){a||(_(e.block),a=!0)},o(n){for(let o=0;o<3;o+=1){const r=e.blocks[o];d(r)}a=!1},d(n){n&&u(t),e.block.d(n),e.token=null,e=null}}}function M(l){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function R(l){let t,a=l[3]+"",e;return{c(){t=h("p"),e=C(a)},l(n){t=b(n,"P",{});var o=P(t);e=T(o,a),o.forEach(u)},m(n,o){f(n,t,o),L(t,e)},p:s,i:s,o:s,d(n){n&&u(t)}}}function U(l){let t,a;return t=new E({}),{c(){g(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){$(t,e,n),a=!0},p:s,i(e){a||(_(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){x(t,e)}}}function j(l){let t,a,e,n;const o=[J,H],r=[];function m(c,i){return c[0]?0:1}return t=m(l),a=r[t]=o[t](l),{c(){a.c(),e=p()},l(c){a.l(c),e=p()},m(c,i){r[t].m(c,i),f(c,e,i),n=!0},p(c,[i]){a.p(c,i)},i(c){n||(_(a),n=!0)},o(c){d(a),n=!1},d(c){c&&u(e),r[t].d(c)}}}function z(l){return[new URL(document.location.href).searchParams.get("name"),async n=>{const r=await(await fetch(`https://rule34.xxx/index.php?page=tags&s=list&tags=${n}&sort=asc&order_by=index_count`)).text(),i=new DOMParser().parseFromString(r,"text/xml").querySelectorAll("#content tr td").values();return JSON.stringify(i)},n=>{window.location.href="/tag?name="+n.detail.label}]}class W extends N{constructor(t){super(),O(this,t,z,j,y,{})}}export{W as component};
