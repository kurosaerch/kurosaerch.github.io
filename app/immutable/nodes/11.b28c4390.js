import{s as A,e as g,a as w,l as d,m as E,c as k,f as u,g as y,o as x,h as v,i as f,p as L,n as c,t as M,b as N,d as O}from"../chunks/scheduler.9ddb58b7.js";import{h as R,u as D}from"../chunks/await_block.bc50228e.js";import{g as F}from"../chunks/globals.7f7f1b26.js";import{S as H,i as J,t as h,a as b,c as S,b as C,m as T,d as P}from"../chunks/index.ea5578de.js";import{S as U}from"../chunks/Searchbar.842bd0bd.js";import{L as j}from"../chunks/LoadingAnimation.9c99af81.js";import{g as z}from"../chunks/tags.49324235.js";const{document:_}=F;function B(l){let n,o="Tags",e,t,a;return t=new U({props:{placeholder:"Search for a tag...",fetchSuggestions:z}}),t.$on("pick",l[2]),{c(){n=g("h1"),n.textContent=o,e=w(),S(t.$$.fragment)},l(r){n=k(r,"H1",{"data-svelte-h":!0}),L(n)!=="svelte-6btv9t"&&(n.textContent=o),e=y(r),C(t.$$.fragment,r)},m(r,i){f(r,n,i),f(r,e,i),T(t,r,i),a=!0},p:c,i(r){a||(h(t.$$.fragment,r),a=!0)},o(r){b(t.$$.fragment,r),a=!1},d(r){r&&(u(n),u(e)),P(t,r)}}}function G(l){let n,o,e={ctx:l,current:null,token:null,hasCatch:!1,pending:Q,then:K,catch:I,value:3,blocks:[,,,]};return R(l[1](l[0]),e),{c(){n=d(),e.block.c()},l(t){n=d(),e.block.l(t)},m(t,a){f(t,n,a),e.block.m(t,e.anchor=a),e.mount=()=>n.parentNode,e.anchor=n,o=!0},p(t,a){l=t,D(e,l,a)},i(t){o||(h(e.block),o=!0)},o(t){for(let a=0;a<3;a+=1){const r=e.blocks[a];b(r)}o=!1},d(t){t&&u(n),e.block.d(t),e.token=null,e=null}}}function I(l){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function K(l){let n,o=l[3]+"",e;return{c(){n=g("p"),e=M(o)},l(t){n=k(t,"P",{});var a=N(n);e=O(a,o),a.forEach(u)},m(t,a){f(t,n,a),v(n,e)},p:c,i:c,o:c,d(t){t&&u(n)}}}function Q(l){let n,o;return n=new j({}),{c(){S(n.$$.fragment)},l(e){C(n.$$.fragment,e)},m(e,t){T(n,e,t),o=!0},p:c,i(e){o||(h(n.$$.fragment,e),o=!0)},o(e){b(n.$$.fragment,e),o=!1},d(e){P(n,e)}}}function V(l){let n,o,e,t,a,r,i;_.title=n=l[0]+" - kurosearch";const $=[G,B],p=[];function q(s,m){return s[0]?0:1}return t=q(l),a=p[t]=$[t](l),{c(){o=g("meta"),e=w(),a.c(),r=d(),this.h()},l(s){const m=E("svelte-19q487y",_.head);o=k(m,"META",{name:!0,content:!0}),m.forEach(u),e=y(s),a.l(s),r=d(),this.h()},h(){x(o,"name","description"),x(o,"content","Simple and powerful Rule34 browsing site with a focus on simplicity and user experience.")},m(s,m){v(_.head,o),f(s,e,m),p[t].m(s,m),f(s,r,m),i=!0},p(s,[m]){(!i||m&1)&&n!==(n=s[0]+" - kurosearch")&&(_.title=n),a.p(s,m)},i(s){i||(h(a),i=!0)},o(s){b(a),i=!1},d(s){s&&(u(e),u(r)),u(o),p[t].d(s)}}}function W(l){return[new URL(document.location.href).searchParams.get("name"),async t=>{const r=await(await fetch(`https://rule34.xxx/index.php?page=tags&s=list&tags=${t}&sort=asc&order_by=index_count`)).text(),p=new DOMParser().parseFromString(r,"text/xml").querySelectorAll("#content tr td").values();return JSON.stringify(p)},t=>{window.location.href="/tag?name="+t.detail.label}]}class oe extends H{constructor(n){super(),J(this,n,W,V,A,{})}}export{oe as component};
