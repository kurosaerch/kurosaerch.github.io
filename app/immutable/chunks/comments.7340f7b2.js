const c="https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index&json=1",l=async(t=void 0)=>{if(typeof t!="number"&&t!==void 0)throw new TypeError("Invalid postId");const e=new URL(c);t!==void 0&&e.searchParams.append("post_id",String(t));const r=await fetch(e);if(!r.ok)throw new Error("Failed to get tag suggestions");const n=await r.text(),a=new DOMParser().parseFromString(n,"text/xml"),o=[];for(const s of a.getElementsByTagName("comment"))o.push(m(s.attributes));return o},m=t=>{const e=t.getNamedItem("creator"),r=t.getNamedItem("created_at"),n=t.getNamedItem("body");if(e==null||r==null||n==null)throw new Error(`Failed to parse comment, attribute was null. ${e}, ${r}, ${n}`);return{author:e.value,createdAt:r.value,content:n.value}};export{l as g};
