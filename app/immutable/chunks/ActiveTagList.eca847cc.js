import{s as E,f as T,U as J,g as w,h as j,V as P,d as p,j as d,r as H,i as $,v as k,u as Q,F as R,N as W,C as A,D as X,a as L,e as D,c as M,G as Y}from"./scheduler.0a29c992.js";import{S as N,i as U,b,d as v,m as y,a as h,t as g,e as S,g as C,c as B}from"./index.6d8df040.js";import{e as F}from"./each.e59479a4.js";import{D as V}from"./DetailedTag.6129a1d8.js";import{f as Z,s as x,g as ee}from"./active-supertags-store.9cb29271.js";import{a as te}from"./active-tags-store.a60398a6.js";import{f as ne}from"./feature-support.8f9b3d5f.js";function re(r){let e,n;return{c(){e=T("h1"),n=new J(!1),this.h()},l(t){e=w(t,"H1",{class:!0});var a=j(e);n=P(a,!1),a.forEach(p),this.h()},h(){n.a=null,d(e,"class",H(r[1])+" svelte-1jtyohl")},m(t,a){$(t,e,a),n.m(r[0],e)},p:k,i:k,o:k,d(t){t&&p(e)}}}function le(r){const e=new Date,n=o=>{const l=`${o.getDate()}-${o.getMonth()}`;return l==="24-12"||l==="25-12"?"kurðŸŽ…search":"kurosearch"},t=o=>o.getMonth()===5?"pride":"default",a=n(e),s=t(e);return[a,s]}class ye extends N{constructor(e){super(),U(this,e,le,re,E,{})}}function ae(r){let e,n,t,a,s;return{c(){e=T("button"),n=T("i"),this.h()},l(o){e=w(o,"BUTTON",{title:!0,class:!0});var l=j(e);n=w(l,"I",{class:!0}),j(n).forEach(p),l.forEach(p),this.h()},h(){d(n,"class",t=H(r[1])+" svelte-1ajjh51"),d(e,"title",r[0]),d(e,"class","svelte-1ajjh51")},m(o,l){$(o,e,l),Q(e,n),a||(s=R(e,"click",r[2]),a=!0)},p(o,[l]){l&2&&t!==(t=H(o[1])+" svelte-1ajjh51")&&d(n,"class",t),l&1&&d(e,"title",o[0])},i:k,o:k,d(o){o&&p(e),a=!1,s()}}}function se(r,e,n){let{title:t}=e,{icon:a}=e;function s(o){W.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title),"icon"in o&&n(1,a=o.icon)},[t,a,s]}class z extends N{constructor(e){super(),U(this,e,se,ae,E,{title:0,icon:1})}}function oe(r){let e,n;return e=new z({props:{title:"Share current search.",icon:"codicon codicon-copy"}}),e.$on("click",r[0]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ie(r,e,n){let t,a,s;return A(r,Z,l=>n(1,t=l)),A(r,x,l=>n(2,a=l)),A(r,te,l=>n(3,s=l)),[async()=>{let l={title:"kurosearch",text:"Saved Search Configuration",url:ee(s,a,t).toString()};try{await navigator.share(l)}catch{}}]}class ce extends N{constructor(e){super(),U(this,e,ie,oe,E,{})}}function q(r,e,n){const t=r.slice();return t[7]=e[n],t}function G(r){let e,n,t=ne(),a,s,o=F(r[0]),l=[];for(let i=0;i<o.length;i+=1)l[i]=I(q(r,o,i));const _=i=>g(l[i],1,1,()=>{l[i]=null});let c=r[0].length>1&&O(r),u=t&&_e();return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=L(),c&&c.c(),n=L(),u&&u.c(),a=D()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);e=M(i),c&&c.l(i),n=M(i),u&&u.l(i),a=D()},m(i,f){for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,f);$(i,e,f),c&&c.m(i,f),$(i,n,f),u&&u.m(i,f),$(i,a,f),s=!0},p(i,f){if(f&3){o=F(i[0]);let m;for(m=0;m<o.length;m+=1){const K=q(i,o,m);l[m]?(l[m].p(K,f),h(l[m],1)):(l[m]=I(K),l[m].c(),h(l[m],1),l[m].m(e.parentNode,e))}for(C(),m=o.length;m<l.length;m+=1)_(m);B()}i[0].length>1?c?(c.p(i,f),f&1&&h(c,1)):(c=O(i),c.c(),h(c,1),c.m(n.parentNode,n)):c&&(C(),g(c,1,1,()=>{c=null}),B())},i(i){if(!s){for(let f=0;f<o.length;f+=1)h(l[f]);h(c),h(u),s=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)g(l[f]);g(c),g(u),s=!1},d(i){i&&(p(e),p(n),p(a)),Y(l,i),c&&c.d(i),u&&u.d(i)}}}function ue(r){let e,n;function t(){return r[4](r[7])}function a(){return r[5](r[7])}return e=new V({props:{tag:r[7],active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,o){y(e,s,o),n=!0},p(s,o){r=s;const l={};o&1&&(l.tag=r[7]),e.$set(l)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function fe(r){let e,n;function t(){return r[2](r[7])}function a(){return r[3](r[7])}return e=new V({props:{tag:{name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length},active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,o){y(e,s,o),n=!0},p(s,o){r=s;const l={};o&1&&(l.tag={name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length}),e.$set(l)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function I(r){let e,n,t,a;const s=[fe,ue],o=[];function l(_,c){return"description"in _[7]?0:1}return e=l(r),n=o[e]=s[e](r),{c(){n.c(),t=D()},l(_){n.l(_),t=D()},m(_,c){o[e].m(_,c),$(_,t,c),a=!0},p(_,c){let u=e;e=l(_),e===u?o[e].p(_,c):(C(),g(o[u],1,1,()=>{o[u]=null}),B(),n=o[e],n?n.p(_,c):(n=o[e]=s[e](_),n.c()),h(n,1),n.m(t.parentNode,t))},i(_){a||(h(n),a=!0)},o(_){g(n),a=!1},d(_){_&&p(t),o[e].d(_)}}}function O(r){let e,n;return e=new z({props:{icon:"codicon codicon-star-full",title:"Create a supertag from the current selection."}}),e.$on("click",r[6]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _e(r){let e,n;return e=new ce({}),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function me(r){let e,n,t=r[0].length>0&&G(r);return{c(){e=T("ul"),t&&t.c(),this.h()},l(a){e=w(a,"UL",{class:!0});var s=j(e);t&&t.l(s),s.forEach(p),this.h()},h(){d(e,"class","svelte-11k0uwj")},m(a,s){$(a,e,s),t&&t.m(e,null),n=!0},p(a,[s]){a[0].length>0?t?(t.p(a,s),s&1&&h(t,1)):(t=G(a),t.c(),h(t,1),t.m(e,null)):t&&(C(),g(t,1,1,()=>{t=null}),B())},i(a){n||(h(t),n=!0)},o(a){g(t),n=!1},d(a){a&&p(e),t&&t.d()}}}function he(r,e,n){const t=X();let{tags:a}=e;const s=u=>t("click",u),o=u=>t("contextmenu",u),l=u=>t("click",u),_=u=>t("contextmenu",u),c=()=>t("createSupertag",a);return r.$$set=u=>{"tags"in u&&n(0,a=u.tags)},[a,t,s,o,l,_,c]}class Se extends N{constructor(e){super(),U(this,e,he,me,E,{tags:0})}}export{Se as A,ye as K};
