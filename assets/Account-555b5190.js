import{S as H,i as J,s as K,f as ue,e as g,t as Y,a as c,n as le,M as fe,b as O,c as r,d as Q,g as V,h as W,j as S,l as P,o as ne,k as G,m as ae,p as ie,q as T,r as Se,u as oe,v as re,w as q,x as F,y as M,z as ge,A as Ee,B as Ie,C as Ae,D as Ce,E as Ge,F as me,G as se,H as te,I as Te,J as _e,K as pe,L as de}from"./index-269c403f.js";function Ue(n){let e,t=ue(n[0].name)+"",l,a;return{c(){e=g("li"),l=Y(t),c(e,"class",a=le(fe[n[0].modifier])+" svelte-ettvl0")},m(s,i){O(s,e,i),r(e,l)},p(s,[i]){i&1&&t!==(t=ue(s[0].name)+"")&&Q(l,t),i&1&&a!==(a=le(fe[s[0].modifier])+" svelte-ettvl0")&&c(e,"class",a)},i:V,o:V,d(s){s&&W(e)}}}function ze(n,e,t){let{tag:l}=e;return n.$$set=a=>{"tag"in a&&t(0,l=a.tag)},[l]}class je extends H{constructor(e){super(),J(this,e,ze,Ue,K,{tag:0})}}function ve(n,e,t){const l=n.slice();return l[4]=e[t],l}function he(n){let e,t;return e=new je({props:{tag:n[4]}}),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const s={};a&1&&(s.tag=l[4]),e.$set(s)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Re(n){let e,t,l=n[0].name+"",a,s,i,o=Object.keys(n[0].tags).length+"",u,f,_,v,m,$,h,p,E=(n[0].description||n[0].name)+"",I,k,j,z,D,ee,R=n[0].tags,y=[];for(let d=0;d<R.length;d+=1)y[d]=he(ve(n,R,d));const X=d=>T(y[d],1,1,()=>{y[d]=null});return{c(){e=g("li"),t=g("h3"),a=Y(l),s=S(),i=g("small"),u=Y(o),f=Y(" tags"),_=S(),v=g("i"),m=S(),$=g("i"),h=S(),p=g("span"),I=Y(E),k=S(),j=g("ol");for(let d=0;d<y.length;d+=1)y[d].c();c(t,"class","svelte-etz2ey"),c(i,"class","svelte-etz2ey"),c(v,"tabindex","0"),c(v,"class","codicon codicon-edit svelte-etz2ey"),c($,"tabindex","0"),c($,"class","codicon codicon-close svelte-etz2ey"),c(p,"class","svelte-etz2ey"),c(j,"class","svelte-etz2ey"),c(e,"class","svelte-etz2ey")},m(d,L){O(d,e,L),r(e,t),r(t,a),r(e,s),r(e,i),r(i,u),r(i,f),r(e,_),r(e,v),r(e,m),r(e,$),r(e,h),r(e,p),r(p,I),r(e,k),r(e,j);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(j,null);z=!0,D||(ee=[P(v,"click",n[2]),P(v,"keyup",ne(n[2])),P($,"click",n[1]),P($,"keyup",ne(n[1]))],D=!0)},p(d,[L]){if((!z||L&1)&&l!==(l=d[0].name+"")&&Q(a,l),(!z||L&1)&&o!==(o=Object.keys(d[0].tags).length+"")&&Q(u,o),(!z||L&1)&&E!==(E=(d[0].description||d[0].name)+"")&&Q(I,E),L&1){R=d[0].tags;let w;for(w=0;w<R.length;w+=1){const N=ve(d,R,w);y[w]?(y[w].p(N,L),G(y[w],1)):(y[w]=he(N),y[w].c(),G(y[w],1),y[w].m(j,null))}for(ae(),w=R.length;w<y.length;w+=1)X(w);ie()}},i(d){if(!z){for(let L=0;L<R.length;L+=1)G(y[L]);z=!0}},o(d){y=y.filter(Boolean);for(let L=0;L<y.length;L+=1)T(y[L]);z=!1},d(d){d&&W(e),Se(y,d),D=!1,oe(ee)}}}function Be(n,e,t){let{supertag:l}=e;const a=re(),s=()=>a("remove",l),i=()=>a("edit",l);return n.$$set=o=>{"supertag"in o&&t(0,l=o.supertag)},[l,s,i]}class Oe extends H{constructor(e){super(),J(this,e,Be,Re,K,{supertag:0})}}function We(n){let e,t,l,a;return{c(){e=g("i"),c(e,"title",n[1]),c(e,"class",t=le(`codicon codicon-${n[2]}`)+" svelte-ga3rak"),c(e,"tabindex","0"),c(e,"role","button"),ge(e,"active",n[0])},m(s,i){O(s,e,i),l||(a=[P(e,"click",n[3]),P(e,"keyup",ne(n[3])),P(e,"touchend",Ee(n[3]))],l=!0)},p(s,[i]){i&2&&c(e,"title",s[1]),i&4&&t!==(t=le(`codicon codicon-${s[2]}`)+" svelte-ga3rak")&&c(e,"class",t),i&5&&ge(e,"active",s[0])},i:V,o:V,d(s){s&&W(e),l=!1,oe(a)}}}function Pe(n,e,t){let{title:l}=e,{icon:a}=e,{active:s}=e;const i=()=>{t(0,s=!s)};return n.$$set=o=>{"title"in o&&t(1,l=o.title),"icon"in o&&t(2,a=o.icon),"active"in o&&t(0,s=o.active)},[s,l,a,i]}class qe extends H{constructor(e){super(),J(this,e,Pe,We,K,{title:1,icon:2,active:0})}}function Fe(n){let e,t,l,a,s,i,o,u,f;function _(m){n[3](m)}let v={icon:"eye",title:"Toggle password visibility."};return n[1]!==void 0&&(v.active=n[1]),s=new qe({props:v}),Ie.push(()=>Ae(s,"active",_)),{c(){e=g("div"),t=g("input"),a=S(),q(s.$$.fragment),c(t,"type",l=n[1]?"text":"password"),t.value=n[0],c(t,"placeholder","Password"),c(t,"autocomplete","current-password"),c(t,"class","svelte-12r6jli"),c(e,"class","svelte-12r6jli")},m(m,$){O(m,e,$),r(e,t),r(e,a),F(s,e,null),o=!0,u||(f=P(t,"input",n[2]),u=!0)},p(m,[$]){(!o||$&2&&l!==(l=m[1]?"text":"password"))&&c(t,"type",l),(!o||$&1&&t.value!==m[0])&&(t.value=m[0]);const h={};!i&&$&2&&(i=!0,h.active=m[1],Ce(()=>i=!1)),s.$set(h)},i(m){o||(G(s.$$.fragment,m),o=!0)},o(m){T(s.$$.fragment,m),o=!1},d(m){m&&W(e),M(s),u=!1,f()}}}function Me(n,e,t){let{value:l}=e,a=!1;const s=o=>{t(0,l=o.target.value)};function i(o){a=o,t(1,a)}return n.$$set=o=>{"value"in o&&t(0,l=o.value)},[l,a,s,i]}class Ne extends H{constructor(e){super(),J(this,e,Me,Fe,K,{value:0})}}function be(n){let e,t;return{c(){e=g("span"),t=Y(n[1])},m(l,a){O(l,e,a),r(e,t)},p(l,a){a&2&&Q(t,l[1])},d(l){l&&W(e)}}}function De(n){let e,t,l,a,s,i,o,u,f,_,v;function m(p){n[7](p)}let $={};n[3]!==void 0&&($.value=n[3]),a=new Ne({props:$}),Ie.push(()=>Ae(a,"value",m));let h=typeof n[1]=="string"&&n[1]!==""&&be(n);return u=new Ge({props:{text:n[0],title:"Click to sign in",disabled:n[4]}}),{c(){e=g("form"),t=g("input"),l=S(),q(a.$$.fragment),i=S(),h&&h.c(),o=S(),q(u.$$.fragment),c(t,"type","text"),c(t,"placeholder","Email"),c(t,"autocomplete","email"),c(t,"class","svelte-169jahb"),c(e,"class","svelte-169jahb")},m(p,E){O(p,e,E),r(e,t),me(t,n[2]),r(e,l),F(a,e,null),r(e,i),h&&h.m(e,null),r(e,o),F(u,e,null),f=!0,_||(v=[P(t,"input",n[6]),P(e,"submit",Ee(n[5]))],_=!0)},p(p,[E]){E&4&&t.value!==p[2]&&me(t,p[2]);const I={};!s&&E&8&&(s=!0,I.value=p[3],Ce(()=>s=!1)),a.$set(I),typeof p[1]=="string"&&p[1]!==""?h?h.p(p,E):(h=be(p),h.c(),h.m(e,o)):h&&(h.d(1),h=null);const k={};E&1&&(k.text=p[0]),E&16&&(k.disabled=p[4]),u.$set(k)},i(p){f||(G(a.$$.fragment,p),G(u.$$.fragment,p),f=!0)},o(p){T(a.$$.fragment,p),T(u.$$.fragment,p),f=!1},d(p){p&&W(e),M(a),h&&h.d(),M(u),_=!1,oe(v)}}}function Ye(n,e,t){let l;const a=re();let{submitLabel:s}=e,{error:i}=e,o="",u="";const f=()=>{l||a("submit",{email:o,password:u})};function _(){o=this.value,t(2,o)}function v(m){u=m,t(3,u)}return n.$$set=m=>{"submitLabel"in m&&t(0,s=m.submitLabel),"error"in m&&t(1,i=m.error)},n.$$.update=()=>{n.$$.dirty&12&&t(4,l=!o||!u)},[s,i,o,u,l,f,_,v]}class $e extends H{constructor(e){super(),J(this,e,Ye,De,K,{submitLabel:0,error:1})}}function He(n){let e,t;return{c(){e=g("img"),se(e.src,t="/icon/google.png")||c(e,"src",t),c(e,"alt","Google"),c(e,"class","svelte-1daylrb")},m(l,a){O(l,e,a)},p:V,i:V,o:V,d(l){l&&W(e)}}}class Je extends H{constructor(e){super(),J(this,e,null,He,K,{})}}function Ke(n){let e,t,l,a,s,i,o,u;return t=new Je({}),{c(){e=g("button"),q(t.$$.fragment),l=S(),a=g("span"),s=Y(n[0]),c(a,"class","svelte-w5bo0p"),c(e,"class","svelte-w5bo0p")},m(f,_){O(f,e,_),F(t,e,null),r(e,l),r(e,a),r(a,s),i=!0,o||(u=P(e,"click",n[2]),o=!0)},p(f,[_]){(!i||_&1)&&Q(s,f[0])},i(f){i||(G(t.$$.fragment,f),i=!0)},o(f){T(t.$$.fragment,f),i=!1},d(f){f&&W(e),M(t),o=!1,u()}}}function Qe(n,e,t){let{content:l}=e;const a=re(),s=()=>a("click");return n.$$set=i=>{"content"in i&&t(0,l=i.content)},[l,a,s]}class Ve extends H{constructor(e){super(),J(this,e,Qe,Ke,K,{content:0})}}function Xe(n){let e,t,l,a,s,i,o,u,f,_,v,m,$,h,p,E,I;return s=new $e({props:{submitLabel:"Sign In",error:n[0]}}),s.$on("submit",n[3]),f=new Ve({props:{content:"Sign in With Google"}}),f.$on("click",n[4]),E=new $e({props:{submitLabel:"Create Account",error:n[1]}}),E.$on("submit",n[5]),{c(){e=g("div"),t=g("div"),l=g("h3"),l.textContent="Sign In",a=S(),q(s.$$.fragment),i=S(),o=g("p"),o.textContent="or",u=S(),q(f.$$.fragment),_=S(),v=g("div"),m=S(),$=g("div"),h=g("h3"),h.textContent="Sign Up",p=S(),q(E.$$.fragment),c(o,"class","svelte-xmob14"),c(t,"class","providerlist svelte-xmob14"),c(v,"class","divider svelte-xmob14"),c($,"class","providerlist svelte-xmob14"),c(e,"class","container svelte-xmob14")},m(k,j){O(k,e,j),r(e,t),r(t,l),r(t,a),F(s,t,null),r(t,i),r(t,o),r(t,u),F(f,t,null),r(e,_),r(e,v),r(e,m),r(e,$),r($,h),r($,p),F(E,$,null),I=!0},p(k,[j]){const z={};j&1&&(z.error=k[0]),s.$set(z);const D={};j&2&&(D.error=k[1]),E.$set(D)},i(k){I||(G(s.$$.fragment,k),G(f.$$.fragment,k),G(E.$$.fragment,k),I=!0)},o(k){T(s.$$.fragment,k),T(f.$$.fragment,k),T(E.$$.fragment,k),I=!1},d(k){k&&W(e),M(s),M(f),M(E)}}}function Ze(n,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address.","auth/password-too-short":"Password to short. Must be at least 8 letters."};let a="",s="";const i=async(_,v)=>{try{t(1,s=""),await _()}catch(m){m.code in l?v(l[m.code]):(console.error(m),v(m.message))}};return[a,s,i,_=>i(()=>te.signInWithEmail(_.detail.email,_.detail.password),v=>{t(0,a=v)}),()=>te.signInWithGoogle(),_=>i(()=>te.signUpWithEmail(_.detail.email,_.detail.password),v=>{t(1,s=v)})]}class xe extends H{constructor(e){super(),J(this,e,Ze,Xe,K,{})}}function ke(n,e,t){const l=n.slice();return l[4]=e[t],l}function et(n){let e,t;return e=new xe({}),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p:V,i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function tt(n){let e,t,l,a,s,i,o,u,f,_=(n[0].user.displayName??"Anonymous")+"",v,m,$,h=n[0].user.email+"",p,E,I,k,j,z,D,ee,R,y,X,d,L,w,N,Z,B=n[1].supertags.length===0&&ye(),x=n[1].supertags,A=[];for(let b=0;b<x.length;b+=1)A[b]=we(ke(n,x,b));const Le=b=>T(A[b],1,1,()=>{A[b]=null});return N=new Ge({props:{text:"Sign out",title:"Click to sign out"}}),N.$on("click",n[3]),{c(){e=g("div"),t=g("div"),l=g("h2"),l.textContent="Signed in as",a=S(),s=g("div"),i=g("img"),u=S(),f=g("span"),v=Y(_),m=S(),$=g("span"),p=Y(h),E=S(),I=g("div"),k=g("h2"),k.textContent="Your supertags",j=S(),z=g("div"),D=S(),B&&B.c(),ee=S(),R=g("ul");for(let b=0;b<A.length;b+=1)A[b].c();y=S(),X=g("div"),d=g("h2"),d.textContent="Actions",L=S(),w=g("div"),q(N.$$.fragment),c(l,"class","svelte-1lk6d9o"),c(i,"class","profile-picture svelte-1lk6d9o"),se(i.src,o=n[0].user.photoURL??de)||c(i,"src",o),c(i,"alt","Profile"),c(f,"class","name svelte-1lk6d9o"),c(s,"class","overview svelte-1lk6d9o"),c(k,"class","svelte-1lk6d9o"),c(z,"class","supertags"),c(R,"class","svelte-1lk6d9o"),c(d,"class","svelte-1lk6d9o"),c(w,"class","actions svelte-1lk6d9o"),c(e,"class","account-view svelte-1lk6d9o")},m(b,U){O(b,e,U),r(e,t),r(t,l),r(t,a),r(t,s),r(s,i),r(s,u),r(s,f),r(f,v),r(s,m),r(s,$),r($,p),r(e,E),r(e,I),r(I,k),r(I,j),r(I,z),r(I,D),B&&B.m(I,null),r(I,ee),r(I,R);for(let C=0;C<A.length;C+=1)A[C]&&A[C].m(R,null);r(e,y),r(e,X),r(X,d),r(X,L),r(X,w),F(N,w,null),Z=!0},p(b,U){if((!Z||U&1&&!se(i.src,o=b[0].user.photoURL??de))&&c(i,"src",o),(!Z||U&1)&&_!==(_=(b[0].user.displayName??"Anonymous")+"")&&Q(v,_),(!Z||U&1)&&h!==(h=b[0].user.email+"")&&Q(p,h),b[1].supertags.length===0?B||(B=ye(),B.c(),B.m(I,ee)):B&&(B.d(1),B=null),U&2){x=b[1].supertags;let C;for(C=0;C<x.length;C+=1){const ce=ke(b,x,C);A[C]?(A[C].p(ce,U),G(A[C],1)):(A[C]=we(ce),A[C].c(),G(A[C],1),A[C].m(R,null))}for(ae(),C=x.length;C<A.length;C+=1)Le(C);ie()}},i(b){if(!Z){for(let U=0;U<x.length;U+=1)G(A[U]);G(N.$$.fragment,b),Z=!0}},o(b){A=A.filter(Boolean);for(let U=0;U<A.length;U+=1)T(A[U]);T(N.$$.fragment,b),Z=!1},d(b){b&&W(e),B&&B.d(),Se(A,b),M(N)}}}function ye(n){let e;return{c(){e=g("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){O(t,e,l)},d(t){t&&W(e)}}}function we(n){let e,t;return e=new Oe({props:{supertag:n[4]}}),e.$on("remove",n[2]),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const s={};a&2&&(s.supertag=l[4]),e.$set(s)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function lt(n){let e,t,l,a;const s=[tt,et],i=[];function o(u,f){return u[0].loggedIn?0:1}return e=o(n),t=i[e]=s[e](n),{c(){t.c(),l=Te()},m(u,f){i[e].m(u,f),O(u,l,f),a=!0},p(u,[f]){let _=e;e=o(u),e===_?i[e].p(u,f):(ae(),T(i[_],1,1,()=>{i[_]=null}),ie(),t=i[e],t?t.p(u,f):(t=i[e]=s[e](u),t.c()),G(t,1),t.m(l.parentNode,l))},i(u){a||(G(t),a=!0)},o(u){T(t),a=!1},d(u){i[e].d(u),u&&W(l)}}}function nt(n,e,t){let l,a;return _e(n,te,o=>t(0,l=o)),_e(n,pe,o=>t(1,a=o)),[l,a,o=>pe.deleteSupertag(o.detail),()=>te.signOut()]}class at extends H{constructor(e){super(),J(this,e,nt,lt,K,{})}}export{at as default};
