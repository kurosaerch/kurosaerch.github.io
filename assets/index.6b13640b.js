const ct=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};ct();function T(){}function at(t){return t&&typeof t=="object"&&typeof t.then=="function"}function nt(t){return t()}function Ne(){return Object.create(null)}function ie(t){t.forEach(nt)}function ut(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let he;function rt(t,e){return he||(he=document.createElement("a")),he.href=e,t===he.href}function ft(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null)return T;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ae(t,e,n){t.$$.on_destroy.push(dt(e,n))}function ke(t){return t==null?"":t}function v(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function N(){return q(" ")}function ge(){return q("")}function Y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _t(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Oe(t,e){t.value=e==null?"":e}function $e(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function lt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function ue(t,e,n){t.classList[n?"add":"remove"](e)}function gt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}let fe;function Z(t){fe=t}function it(){if(!fe)throw new Error("Function called outside component initialization");return fe}function oe(){const t=it();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=gt(e,n,{cancelable:r});return l.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}const ce=[],ne=[],ve=[],Me=[],ht=Promise.resolve();let je=!1;function mt(){je||(je=!0,ht.then(Pe))}function de(t){ve.push(t)}const ye=new Set;let me=0;function Pe(){const t=fe;do{for(;me<ce.length;){const e=ce[me];me++,Z(e),pt(e.$$)}for(Z(null),ce.length=0,me=0;ne.length;)ne.pop()();for(let e=0;e<ve.length;e+=1){const n=ve[e];ye.has(n)||(ye.add(n),n())}ve.length=0}while(ce.length);for(;Me.length;)Me.pop()();je=!1,ye.clear(),Z(t)}function pt(t){if(t.fragment!==null){t.update(),ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}const be=new Set;let V;function K(){V={r:0,c:[],p:V}}function G(){V.r||ie(V.c),V=V.p}function S(t,e){t&&t.i&&(be.delete(t),t.i(e))}function A(t,e,n,r){if(t&&t.o){if(be.has(t))return;be.add(t),V.c.push(()=>{be.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Re(t,e){const n=e.token={};function r(l,o,i,c){if(e.token!==n)return;e.resolved=c;let s=e.ctx;i!==void 0&&(s=s.slice(),s[i]=c);const a=l&&(e.current=l)(s);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,g)=>{g!==o&&d&&(K(),A(d,1,1,()=>{e.blocks[g]===d&&(e.blocks[g]=null)}),G())}):e.block.d(1),a.c(),S(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[o]=a),u&&Pe()}if(at(t)){const l=it();if(t.then(o=>{Z(l),r(e.then,1,e.value,o),Z(null)},o=>{if(Z(l),r(e.catch,2,e.error,o),Z(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function vt(t,e,n){const r=e.slice(),{resolved:l}=t;t.current===t.then&&(r[t.value]=l),t.current===t.catch&&(r[t.error]=l),t.block.p(r,n)}function D(t){t&&t.c()}function B(t,e,n,r){const{fragment:l,on_mount:o,on_destroy:i,after_update:c}=t.$$;l&&l.m(e,n),r||de(()=>{const s=o.map(nt).filter(ut);i?i.push(...s):ie(s),t.$$.on_mount=[]}),c.forEach(de)}function W(t,e){const n=t.$$;n.fragment!==null&&(ie(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){t.$$.dirty[0]===-1&&(ce.push(t),mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(t,e,n,r,l,o,i,c=[-1]){const s=fe;Z(t);const a=t.$$={fragment:null,ctx:null,props:o,update:T,not_equal:l,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ne(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};i&&i(a.root);let u=!1;if(a.ctx=n?n(t,e.props||{},(d,g,...m)=>{const $=m.length?m[0]:g;return a.ctx&&l(a.ctx[d],a.ctx[d]=$)&&(!a.skip_bound&&a.bound[d]&&a.bound[d]($),u&&bt(t,d)),g}):[],a.update(),u=!0,ie(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const d=_t(e.target);a.fragment&&a.fragment.l(d),d.forEach(E)}else a.fragment&&a.fragment.c();e.intro&&S(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),Pe()}Z(s)}class U{$destroy(){W(this,1),this.$destroy=T}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function Ie(t,e=T){let n;const r=new Set;function l(c){if(z(t,c)&&(t=c,n)){const s=!ee.length;for(const a of r)a[1](),ee.push(a,t);if(s){for(let a=0;a<ee.length;a+=2)ee[a][0](ee[a+1]);ee.length=0}}}function o(c){l(c(t))}function i(c,s=T){const a=[c,s];return r.add(a),r.size===1&&(n=e(l)||T),c(t),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:l,update:o,subscribe:i}}const ot=Ie("search");function kt(t){let e,n,r,l,o,i,c,s;return{c(){e=b("header"),n=b("button"),n.innerHTML='<i class="codicon codicon-search"></i>',r=N(),l=b("button"),l.innerHTML='<i class="codicon codicon-settings-gear"></i>',o=N(),i=b("button"),i.innerHTML='<i class="codicon codicon-account"></i>',f(n,"title","Search"),f(n,"class","svelte-16igdnk"),f(l,"title","Settings"),f(l,"class","svelte-16igdnk"),f(i,"title","Account"),f(i,"class","svelte-16igdnk"),f(e,"role","navigation"),f(e,"class","svelte-16igdnk")},m(a,u){j(a,e,u),v(e,n),v(e,r),v(e,l),v(e,o),v(e,i),c||(s=[Y(n,"click",t[0]("search")),Y(l,"click",t[0]("settings")),Y(i,"click",t[0]("account"))],c=!0)},p:T,i:T,o:T,d(a){a&&E(e),c=!1,ie(s)}}}function $t(t){return[n=>()=>{ot.set(n)}]}class yt extends U{constructor(e){super(),F(this,e,$t,kt,z,{})}}const J=t=>t/1e6>=1?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();function te(t,e){const n=t.toFixed();return`${n} ${e}${n==="1"?"":"s"} ago`}function Be(t){const e=new Date(t),n=new Date,r=n.getFullYear()-e.getFullYear();if(r)return te(r,"year");const l=n.getMonth()-e.getMonth();if(l)return te(l,"month");const o=(n.getTime()-e.getTime())/6e4;if(o===0)return"just now";if(o<60)return te(o,"minute");const i=o/60;if(i<24)return te(i,"hour");const c=i/24;if(c<7)return te(c,"day");const s=c/7;return s<5?te(s,"week"):"rip"}function le(t){return t.replace(/_/g," ").replace(/source:/g,"").replace(/rating:/g,"")}function Te(t){for(const e of t)if(e!=="ambiguous"&&e!=="general")return e;return null}function wt(){const t=[],{subscribe:e,update:n}=Ie(t);return{subscribe:e,add:r=>n(l=>{const o=l.findIndex(i=>i.name==r.name);return o===-1?l.push(r):l[o]=r,l}),addByName:r=>n(l=>(l.push({name:r,count:0,types:[]}),l)),removeByIndex:r=>n(l=>(l.splice(r,1),l))}}var re=wt();function St(t){let e,n=le(t[0])+"",r,l,o;return{c(){e=b("li"),r=q(n),f(e,"tabindex","0"),f(e,"title","Click to add tag"),f(e,"class","svelte-1r7mf3i"),ue(e,"active",t[2])},m(i,c){j(i,e,c),v(e,r),l||(o=Y(e,"click",t[4]),l=!0)},p(i,[c]){c&1&&n!==(n=le(i[0])+"")&&X(r,n),c&4&&ue(e,"active",i[2])},i:T,o:T,d(i){i&&E(e),l=!1,o()}}}function Et(t,e,n){let r,l,o;ae(t,re,s=>n(3,o=s));let{name:i}=e;const c=()=>l?re.removeByIndex(r):re.addByName(i);return t.$$set=s=>{"name"in s&&n(0,i=s.name)},t.$$.update=()=>{t.$$.dirty&9&&n(1,r=o.findIndex(s=>s.name===i)),t.$$.dirty&2&&n(2,l=r>=0)},[i,r,l,o,c]}class jt extends U{constructor(e){super(),F(this,e,Et,St,z,{name:0})}}function Tt(t){let e,n,r,l=t[0].hostname+"",o,i;return{c(){e=b("i"),n=N(),r=b("a"),o=q(l),f(e,"class","codicon codicon-link"),f(r,"href",i=t[0].toString()),f(r,"class","svelte-1qmyyls")},m(c,s){j(c,e,s),j(c,n,s),j(c,r,s),v(r,o)},p:T,d(c){c&&E(e),c&&E(n),c&&E(r)}}}function At(t){let e,n=t[0]&&Tt(t);return{c(){n&&n.c(),e=ge()},m(r,l){n&&n.m(r,l),j(r,e,l)},p(r,[l]){r[0]&&n.p(r,l)},i:T,o:T,d(r){n&&n.d(r),r&&E(e)}}}function Ct(t,e,n){let{source:r}=e,l=new URL(r);return t.$$set=o=>{"source"in o&&n(1,r=o.source)},[l,r]}class Pt extends U{constructor(e){super(),F(this,e,Ct,At,z,{source:1})}}function We(t,e,n){const r=t.slice();return r[1]=e[n],r}function ze(t){let e,n,r;return n=new Pt({props:{source:t[0].source}}),{c(){e=b("div"),D(n.$$.fragment),f(e,"class","svelte-5x11c6")},m(l,o){j(l,e,o),B(n,e,null),r=!0},p(l,o){const i={};o&1&&(i.source=l[0].source),n.$set(i)},i(l){r||(S(n.$$.fragment,l),r=!0)},o(l){A(n.$$.fragment,l),r=!1},d(l){l&&E(e),W(n)}}}function De(t){let e,n;return e=new jt({props:{name:t[1]}}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p(r,l){const o={};l&1&&(o.name=r[1]),e.$set(o)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function It(t){let e,n,r,l,o,i=Be(t[0].created_at)+"",c,s,a,u,d,g,m=J(t[0].score)+"",$,C,L,w,h,k=t[0].source&&ze(t),I=t[0].tags,p=[];for(let P=0;P<I.length;P+=1)p[P]=De(We(t,I,P));const x=P=>A(p[P],1,1,()=>{p[P]=null});return{c(){e=b("div"),n=b("div"),r=b("i"),l=N(),o=b("span"),c=q(i),s=N(),a=b("div"),u=b("i"),d=N(),g=b("span"),$=q(m),C=N(),k&&k.c(),L=N(),w=b("ul");for(let P=0;P<p.length;P+=1)p[P].c();f(r,"class","codicon codicon-calendar"),f(o,"class","svelte-5x11c6"),f(n,"class","svelte-5x11c6"),f(u,"class","codicon codicon-heart"),f(g,"class","svelte-5x11c6"),f(a,"class","svelte-5x11c6"),f(e,"class","summary svelte-5x11c6"),f(w,"class","svelte-5x11c6")},m(P,O){j(P,e,O),v(e,n),v(n,r),v(n,l),v(n,o),v(o,c),v(e,s),v(e,a),v(a,u),v(a,d),v(a,g),v(g,$),v(e,C),k&&k.m(e,null),j(P,L,O),j(P,w,O);for(let R=0;R<p.length;R+=1)p[R].m(w,null);h=!0},p(P,[O]){if((!h||O&1)&&i!==(i=Be(P[0].created_at)+"")&&X(c,i),(!h||O&1)&&m!==(m=J(P[0].score)+"")&&X($,m),P[0].source?k?(k.p(P,O),O&1&&S(k,1)):(k=ze(P),k.c(),S(k,1),k.m(e,null)):k&&(K(),A(k,1,1,()=>{k=null}),G()),O&1){I=P[0].tags;let R;for(R=0;R<I.length;R+=1){const y=We(P,I,R);p[R]?(p[R].p(y,O),S(p[R],1)):(p[R]=De(y),p[R].c(),S(p[R],1),p[R].m(w,null))}for(K(),R=I.length;R<p.length;R+=1)x(R);G()}},i(P){if(!h){S(k);for(let O=0;O<I.length;O+=1)S(p[O]);h=!0}},o(P){A(k),p=p.filter(Boolean);for(let O=0;O<p.length;O+=1)A(p[O]);h=!1},d(P){P&&E(e),k&&k.d(),P&&E(L),P&&E(w),_e(p,P)}}}function Lt(t,e,n){let{post:r}=e;return t.$$set=l=>{"post"in l&&n(0,r=l.post)},[r]}class Nt extends U{constructor(e){super(),F(this,e,Lt,It,z,{post:0})}}function Ot(t){let e,n,r,l,o,i;return{c(){e=b("img"),f(e,"loading","lazy"),f(e,"data-src",n=t[0].sample_url),f(e,"alt",r=t[0].id.toString()),f(e,"style",l=`aspect-ratio: ${t[0].width} / ${t[0].height}`),f(e,"width",o=t[0].width),f(e,"height",i=t[0].height),f(e,"class","svelte-1xnjrgd")},m(c,s){j(c,e,s),t[7](e)},p(c,s){s&1&&n!==(n=c[0].sample_url)&&f(e,"data-src",n),s&1&&r!==(r=c[0].id.toString())&&f(e,"alt",r),s&1&&l!==(l=`aspect-ratio: ${c[0].width} / ${c[0].height}`)&&f(e,"style",l),s&1&&o!==(o=c[0].width)&&f(e,"width",o),s&1&&i!==(i=c[0].height)&&f(e,"height",i)},d(c){c&&E(e),t[7](null)}}}function Mt(t){let e,n,r,l,o,i;return{c(){e=b("video"),f(e,"preload","metadata"),f(e,"loading","lazy"),f(e,"data-src",n=t[0].sample_url),f(e,"alt",r=t[0].id.toString()),f(e,"style",l=`aspect-ratio: ${t[0].width} / ${t[0].height}`),f(e,"width",o=t[0].width),f(e,"height",i=t[0].height),e.controls=!0,f(e,"class","svelte-1xnjrgd")},m(c,s){j(c,e,s),t[6](e)},p(c,s){s&1&&n!==(n=c[0].sample_url)&&f(e,"data-src",n),s&1&&r!==(r=c[0].id.toString())&&f(e,"alt",r),s&1&&l!==(l=`aspect-ratio: ${c[0].width} / ${c[0].height}`)&&f(e,"style",l),s&1&&o!==(o=c[0].width)&&f(e,"width",o),s&1&&i!==(i=c[0].height)&&f(e,"height",i)},d(c){c&&E(e),t[6](null)}}}function Rt(t){let e,n,r,l,o,i;return{c(){e=b("img"),f(e,"loading","lazy"),f(e,"data-src",n=t[0].sample_url),f(e,"alt",r=t[0].id.toString()),f(e,"style",l=`aspect-ratio: ${t[0].width} / ${t[0].height}`),f(e,"width",o=t[0].width),f(e,"height",i=t[0].height),f(e,"class","svelte-1xnjrgd")},m(c,s){j(c,e,s),t[5](e)},p(c,s){s&1&&n!==(n=c[0].sample_url)&&f(e,"data-src",n),s&1&&r!==(r=c[0].id.toString())&&f(e,"alt",r),s&1&&l!==(l=`aspect-ratio: ${c[0].width} / ${c[0].height}`)&&f(e,"style",l),s&1&&o!==(o=c[0].width)&&f(e,"width",o),s&1&&i!==(i=c[0].height)&&f(e,"height",i)},d(c){c&&E(e),t[5](null)}}}function Fe(t){let e,n;return e=new Nt({props:{post:t[0]}}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p(r,l){const o={};l&1&&(o.post=r[0]),e.$set(o)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Bt(t){let e,n,r,l,o,i;function c(d,g){return d[0].type==="image"?Rt:d[0].type==="video"?Mt:Ot}let s=c(t),a=s(t),u=t[2]&&Fe(t);return{c(){e=b("div"),n=b("div"),a.c(),r=N(),u&&u.c(),f(n,"class","content"),f(e,"class","post svelte-1xnjrgd")},m(d,g){j(d,e,g),v(e,n),a.m(n,null),v(e,r),u&&u.m(e,null),l=!0,o||(i=Y(n,"click",t[3]),o=!0)},p(d,[g]){s===(s=c(d))&&a?a.p(d,g):(a.d(1),a=s(d),a&&(a.c(),a.m(n,null))),d[2]?u?(u.p(d,g),g&4&&S(u,1)):(u=Fe(d),u.c(),S(u,1),u.m(e,null)):u&&(K(),A(u,1,1,()=>{u=null}),G())},i(d){l||(S(u),l=!0)},o(d){A(u),l=!1},d(d){d&&E(e),a.d(),u&&u.d(),o=!1,i()}}}function Wt(t,e,n){let{post:r}=e,{observer:l}=e,o=!1,i;function c(){n(2,o=!o)}function s(d){ne[d?"unshift":"push"](()=>{i=d,n(1,i)})}function a(d){ne[d?"unshift":"push"](()=>{i=d,n(1,i)})}function u(d){ne[d?"unshift":"push"](()=>{i=d,n(1,i)})}return t.$$set=d=>{"post"in d&&n(0,r=d.post),"observer"in d&&n(4,l=d.observer)},t.$$.update=()=>{t.$$.dirty&18&&i&&l.observe(i)},[r,i,o,c,l,s,a,u]}class zt extends U{constructor(e){super(),F(this,e,Wt,Bt,z,{post:0,observer:4})}}function Ue(t,e,n){const r=t.slice();return r[2]=e[n],r}function qe(t){let e,n;return e=new zt({props:{post:t[2],observer:t[1]}}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p(r,l){const o={};l&1&&(o.post=r[2]),l&2&&(o.observer=r[1]),e.$set(o)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Dt(t){let e,n,r=t[0],l=[];for(let i=0;i<r.length;i+=1)l[i]=qe(Ue(t,r,i));const o=i=>A(l[i],1,1,()=>{l[i]=null});return{c(){e=b("ol");for(let i=0;i<l.length;i+=1)l[i].c();f(e,"class","page svelte-5hdzo")},m(i,c){j(i,e,c);for(let s=0;s<l.length;s+=1)l[s].m(e,null);n=!0},p(i,[c]){if(c&3){r=i[0];let s;for(s=0;s<r.length;s+=1){const a=Ue(i,r,s);l[s]?(l[s].p(a,c),S(l[s],1)):(l[s]=qe(a),l[s].c(),S(l[s],1),l[s].m(e,null))}for(K(),s=r.length;s<l.length;s+=1)o(s);G()}},i(i){if(!n){for(let c=0;c<r.length;c+=1)S(l[c]);n=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)A(l[c]);n=!1},d(i){i&&E(e),_e(l,i)}}}function Ft(t,e,n){let{posts:r}=e,{observer:l}=e;return t.$$set=o=>{"posts"in o&&n(0,r=o.posts),"observer"in o&&n(1,l=o.observer)},[r,l]}class Ut extends U{constructor(e){super(),F(this,e,Ft,Dt,z,{posts:0,observer:1})}}function qt(t){let e,n,r,l,o,i,c;return{c(){e=b("button"),n=b("i"),l=N(),o=q(t[1]),f(n,"class",r=`codicon codicon-${t[0]}`),f(e,"title",t[2]),f(e,"class","svelte-11z6t3c")},m(s,a){j(s,e,a),v(e,n),v(e,l),v(e,o),i||(c=Y(e,"click",t[4]),i=!0)},p(s,[a]){a&1&&r!==(r=`codicon codicon-${s[0]}`)&&f(n,"class",r),a&2&&X(o,s[1]),a&4&&f(e,"title",s[2])},i:T,o:T,d(s){s&&E(e),i=!1,c()}}}function Ht(t,e,n){let{icon:r}=e,{text:l}=e,{title:o}=e;const i=oe(),c=()=>i("click");return t.$$set=s=>{"icon"in s&&n(0,r=s.icon),"text"in s&&n(1,l=s.text),"title"in s&&n(2,o=s.title)},[r,l,o,i,c]}class Yt extends U{constructor(e){super(),F(this,e,Ht,qt,z,{icon:0,text:1,title:2})}}function Kt(t){let e,n,r,l;return{c(){e=b("i"),f(e,"title",t[0]),f(e,"class",n=ke(`codicon codicon-${t[1]}`)+" svelte-htt49j"),f(e,"tabindex","0"),ue(e,"active",t[2])},m(o,i){j(o,e,i),r||(l=Y(e,"click",t[4]),r=!0)},p(o,[i]){i&1&&f(e,"title",o[0]),i&2&&n!==(n=ke(`codicon codicon-${o[1]}`)+" svelte-htt49j")&&f(e,"class",n),i&6&&ue(e,"active",o[2])},i:T,o:T,d(o){o&&E(e),r=!1,l()}}}function Gt(t,e,n){let{title:r=void 0}=e,{icon:l}=e,{active:o}=e;const i=oe(),c=()=>i("click");return t.$$set=s=>{"title"in s&&n(0,r=s.title),"icon"in s&&n(1,l=s.icon),"active"in s&&n(2,o=s.active)},[r,l,o,i,c]}class Xt extends U{constructor(e){super(),F(this,e,Gt,Kt,z,{title:0,icon:1,active:2})}}function Zt(t){let e,n;return{c(){e=b("i"),f(e,"class",n=`codicon codicon-${t[1][t[0]]}`)},m(r,l){j(r,e,l)},p(r,[l]){l&1&&n!==(n=`codicon codicon-${r[1][r[0]]}`)&&f(e,"class",n)},i:T,o:T,d(r){r&&E(e)}}}function Jt(t,e,n){let{type:r}=e;const l={artist:"edit",character:"person",copyright:"folder",metadata:"info",rating:"unverified",source:"link",supertag:"star-full"};return t.$$set=o=>{"type"in o&&n(0,r=o.type)},[r,l]}class st extends U{constructor(e){super(),F(this,e,Jt,Zt,z,{type:0})}}const Ae={"+":"plus","-":"circle-slash","~":"record"},He={"+":"Included. Tags will be included in the search.","-":"Blocked. Tags will be blocked.","~":"Optional. At least one of all optional tags will on each post."},we=Object.keys(Ae);function Qt(t){let e,n,r,l,o;return{c(){e=b("i"),f(e,"class",n=ke(`codicon codicon-${Ae[t[0]]}`)+" svelte-htt49j"),f(e,"title",r=He[t[0]])},m(i,c){j(i,e,c),l||(o=Y(e,"click",t[2]),l=!0)},p(i,[c]){c&1&&n!==(n=ke(`codicon codicon-${Ae[i[0]]}`)+" svelte-htt49j")&&f(e,"class",n),c&1&&r!==(r=He[i[0]])&&f(e,"title",r)},i:T,o:T,d(i){i&&E(e),l=!1,o()}}}function Vt(t,e,n){let r="+";const l=oe();return[r,l,()=>{const i=(we.indexOf(r)+1)%we.length;n(0,r=we[i]),l("change",r)}]}class xt extends U{constructor(e){super(),F(this,e,Vt,Qt,z,{})}}function en(t){let e;return{c(){e=b("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 20" enable-background="new 0 0 0 0" class="svelte-166gq1d"><circle fill="currentcolor" stroke="none" cx="6" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.1"></animate></circle><circle fill="currentcolor" stroke="none" cx="25" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.2"></animate></circle><circle fill="currentcolor" stroke="none" cx="44" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.3"></animate></circle></svg>'},m(n,r){j(n,e,r)},p:T,i:T,o:T,d(n){n&&E(e)}}}class tn extends U{constructor(e){super(),F(this,e,null,en,z,{})}}function Ye(t,e,n){const r=t.slice();return r[12]=e[n],r}function nn(t){let e,n,r=t[15].message+"",l;return{c(){e=b("div"),n=b("span"),l=q(r),f(e,"class","hint-container svelte-vtgj37")},m(o,i){j(o,e,i),v(e,n),v(n,l)},p(o,i){i&4&&r!==(r=o[15].message+"")&&X(l,r)},i:T,o:T,d(o){o&&E(e)}}}function rn(t){let e,n,r=t[11]&&t[11].length&&Ke(t);return{c(){r&&r.c(),e=ge()},m(l,o){r&&r.m(l,o),j(l,e,o),n=!0},p(l,o){l[11]&&l[11].length?r?(r.p(l,o),o&4&&S(r,1)):(r=Ke(l),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(K(),A(r,1,1,()=>{r=null}),G())},i(l){n||(S(r),n=!0)},o(l){A(r),n=!1},d(l){r&&r.d(l),l&&E(e)}}}function Ke(t){let e,n,r=t[11],l=[];for(let i=0;i<r.length;i+=1)l[i]=Ge(Ye(t,r,i));const o=i=>A(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ge()},m(i,c){for(let s=0;s<l.length;s+=1)l[s].m(i,c);j(i,e,c),n=!0},p(i,c){if(c&21){r=i[11];let s;for(s=0;s<r.length;s+=1){const a=Ye(i,r,s);l[s]?(l[s].p(a,c),S(l[s],1)):(l[s]=Ge(a),l[s].c(),S(l[s],1),l[s].m(e.parentNode,e))}for(K(),s=r.length;s<l.length;s+=1)o(s);G()}},i(i){if(!n){for(let c=0;c<r.length;c+=1)S(l[c]);n=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)A(l[c]);n=!1},d(i){_e(l,i),i&&E(e)}}}function Ge(t){let e,n,r,l,o=le(t[12].name)+"",i,c,s,a,u=J(t[12].count)+"",d,g,m,$,C;n=new st({props:{type:Te(t[12].types)}});function L(){return t[9](t[12])}return{c(){e=b("li"),D(n.$$.fragment),r=N(),l=b("span"),i=q(o),s=N(),a=b("span"),d=q(u),g=N(),f(l,"title",c=t[12].name),f(l,"class","tag-name svelte-vtgj37"),f(a,"class","tag-count"),f(e,"tabindex","0"),f(e,"class","svelte-vtgj37")},m(w,h){j(w,e,h),B(n,e,null),v(e,r),v(e,l),v(l,i),v(e,s),v(e,a),v(a,d),v(e,g),m=!0,$||(C=Y(e,"click",L),$=!0)},p(w,h){t=w;const k={};h&4&&(k.type=Te(t[12].types)),n.$set(k),(!m||h&4)&&o!==(o=le(t[12].name)+"")&&X(i,o),(!m||h&4&&c!==(c=t[12].name))&&f(l,"title",c),(!m||h&4)&&u!==(u=J(t[12].count)+"")&&X(d,u)},i(w){m||(S(n.$$.fragment,w),m=!0)},o(w){A(n.$$.fragment,w),m=!1},d(w){w&&E(e),W(n),$=!1,C()}}}function ln(t){let e,n,r;return n=new tn({}),{c(){e=b("div"),D(n.$$.fragment),f(e,"class","hint-container svelte-vtgj37")},m(l,o){j(l,e,o),B(n,e,null),r=!0},p:T,i(l){r||(S(n.$$.fragment,l),r=!0)},o(l){A(n.$$.fragment,l),r=!1},d(l){l&&E(e),W(n)}}}function on(t){let e,n,r,l,o,i,c,s,a,u,d,g,m,$,C,L;i=new xt({}),i.$on("change",t[7]),s=new Xt({props:{icon:"whole-word",title:"Toggle exact search term matching",active:!t[1]}}),s.$on("click",t[8]);let w={ctx:t,current:null,token:null,hasCatch:!0,pending:ln,then:rn,catch:nn,value:11,error:15,blocks:[,,,]};return Re(d=t[2],w),{c(){e=b("div"),n=b("i"),r=N(),l=b("input"),o=N(),D(i.$$.fragment),c=N(),D(s.$$.fragment),a=N(),u=b("ol"),w.block.c(),g=N(),m=b("div"),m.innerHTML='<span class="hint svelte-vtgj37">Learn more about tags</span>',f(n,"class","codicon codicon-search"),f(l,"type","text"),f(l,"aria-label","Search for tags."),f(l,"class","svelte-vtgj37"),f(m,"class","hint-container svelte-vtgj37"),f(u,"class","svelte-vtgj37"),f(e,"class","searchbar svelte-vtgj37")},m(h,k){j(h,e,k),v(e,n),v(e,r),v(e,l),Oe(l,t[0]),v(e,o),B(i,e,null),v(e,c),B(s,e,null),v(e,a),v(e,u),w.block.m(u,w.anchor=null),w.mount=()=>u,w.anchor=g,v(u,g),v(u,m),$=!0,C||(L=Y(l,"input",t[6]),C=!0)},p(h,[k]){t=h,k&1&&l.value!==t[0]&&Oe(l,t[0]);const I={};k&2&&(I.active=!t[1]),s.$set(I),w.ctx=t,k&4&&d!==(d=t[2])&&Re(d,w)||vt(w,t,k)},i(h){$||(S(i.$$.fragment,h),S(s.$$.fragment,h),S(w.block),$=!0)},o(h){A(i.$$.fragment,h),A(s.$$.fragment,h);for(let k=0;k<3;k+=1){const I=w.blocks[k];A(I)}$=!1},d(h){h&&E(e),W(i),W(s),w.block.d(),w.token=null,w=null,C=!1,L()}}}function sn(t,e,n){const r=oe();let l,o,i="",c=!0,s="+";async function a($,C){const L=$?`*${C}*`:C,w=await fetch(`https://r34-json.herokuapp.com/v2/tags?limit=20&sort=count&name=${L.replaceAll(" ","_")}`,{signal:l.signal}),h=await w.json();if(w.ok){if(Array.isArray(h))return h;throw h.message?new Error(h.message):new Error("Cannot display tag suggestions")}else throw new Error("Failed to get tag suggestions")}function u(){i=this.value,n(0,i)}const d=$=>{n(3,s=$.detail)},g=()=>{n(1,c=!c)},m=$=>{var C;n(0,i=""),r("pick",$),(C=document.activeElement)==null||C.blur()};return t.$$.update=()=>{t.$$.dirty&35&&(l!==void 0&&l.abort("Newer search term entered"),i!==""&&(n(5,l=new AbortController),n(2,o=a(c,i))))},[i,c,o,s,r,l,u,d,g,m]}class cn extends U{constructor(e){super(),F(this,e,sn,on,z,{})}}function an(t){let e,n,r,l=le(t[0].name)+"",o,i,c=J(t[0].count)+"",s,a,u,d,g;return n=new st({props:{type:t[2]}}),{c(){e=b("li"),D(n.$$.fragment),r=N(),o=q(l),i=q(`
  (`),s=q(c),a=q(")"),f(e,"tabindex","0"),f(e,"title","Click to remove tag"),f(e,"class","svelte-zci81g"),ue(e,"no-icon",t[2]===null)},m(m,$){j(m,e,$),B(n,e,null),v(e,r),v(e,o),v(e,i),v(e,s),v(e,a),u=!0,d||(g=Y(e,"click",t[3]),d=!0)},p(m,[$]){(!u||$&1)&&l!==(l=le(m[0].name)+"")&&X(o,l),(!u||$&1)&&c!==(c=J(m[0].count)+"")&&X(s,c)},i(m){u||(S(n.$$.fragment,m),u=!0)},o(m){A(n.$$.fragment,m),u=!1},d(m){m&&E(e),W(n),d=!1,g()}}}function un(t,e,n){let{tag:r}=e;const l=oe(),o=Te(r.types),i=()=>l("click");return t.$$set=c=>{"tag"in c&&n(0,r=c.tag)},[r,l,o,i]}class fn extends U{constructor(e){super(),F(this,e,un,an,z,{tag:0})}}function dn(t){let e;return{c(){e=b("div")},m(n,r){j(n,e,r),t[1](e)},p:T,i:T,o:T,d(n){n&&E(e),t[1](null)}}}function _n(t,e,n){const r=oe(),l=new IntersectionObserver(c=>{c[0].isIntersecting&&(console.debug("Triggered infinite loading"),r("visible"))},{rootMargin:"1250px"});let o;function i(c){ne[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$.update=()=>{t.$$.dirty&1&&(l.disconnect(),o&&l.observe(o))},[o,i]}class gn extends U{constructor(e){super(),F(this,e,_n,dn,z,{})}}var hn="/kurosearch/assets/shironeko-confused.4071d5b2.png";function mn(t){let e,n,r,l,o;return{c(){e=b("div"),n=b("img"),l=N(),o=b("span"),o.textContent="No results found",rt(n.src,r=hn)||f(n,"src",r),f(n,"alt","No results."),f(o,"class","svelte-10fem3h"),f(e,"class","svelte-10fem3h")},m(i,c){j(i,e,c),v(e,n),v(e,l),v(e,o)},p:T,i:T,o:T,d(i){i&&E(e)}}}class pn extends U{constructor(e){super(),F(this,e,null,mn,z,{})}}var vn="/kurosearch/assets/shironeko-x.c28cad00.png";function bn(t){let e,n,r,l,o;return{c(){e=b("div"),n=b("img"),l=N(),o=b("span"),o.textContent="You have reached the end",rt(n.src,r=vn)||f(n,"src",r),f(n,"alt","No results."),f(o,"class","svelte-1rtbqa7"),f(e,"class","svelte-1rtbqa7")},m(i,c){j(i,e,c),v(e,n),v(e,l),v(e,o)},p:T,i:T,o:T,d(i){i&&E(e)}}}class kn extends U{constructor(e){super(),F(this,e,null,bn,z,{})}}function Xe(t,e,n){const r=t.slice();return r[15]=e[n],r}function Ze(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Je(t){let e,n;function r(){return t[10](t[20])}return e=new fn({props:{tag:t[18]}}),e.$on("click",r),{c(){D(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,o){t=l;const i={};o&32&&(i.tag=t[18]),e.$set(i)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){W(e,l)}}}function $n(t){let e,n;return e=new pn({}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p:T,i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function yn(t){let e,n=J(t[0])+"",r,l,o,i,c,s,a,u,d,g=t[1],m=[];for(let h=0;h<g.length;h+=1)m[h]=Qe(Xe(t,g,h));const $=h=>A(m[h],1,1,()=>{m[h]=null}),C=[Sn,wn],L=[];function w(h,k){return h[1].length<h[4]?0:1}return s=w(t),a=L[s]=C[s](t),{c(){e=b("p"),r=q(n),l=q(" results"),o=N(),i=b("ol");for(let h=0;h<m.length;h+=1)m[h].c();c=N(),a.c(),u=ge(),f(e,"class","count svelte-1822wy9"),f(i,"class","svelte-1822wy9")},m(h,k){j(h,e,k),v(e,r),v(e,l),j(h,o,k),j(h,i,k);for(let I=0;I<m.length;I+=1)m[I].m(i,null);j(h,c,k),L[s].m(h,k),j(h,u,k),d=!0},p(h,k){if((!d||k&1)&&n!==(n=J(h[0])+"")&&X(r,n),k&66){g=h[1];let p;for(p=0;p<g.length;p+=1){const x=Xe(h,g,p);m[p]?(m[p].p(x,k),S(m[p],1)):(m[p]=Qe(x),m[p].c(),S(m[p],1),m[p].m(i,null))}for(K(),p=g.length;p<m.length;p+=1)$(p);G()}let I=s;s=w(h),s===I?L[s].p(h,k):(K(),A(L[I],1,1,()=>{L[I]=null}),G(),a=L[s],a?a.p(h,k):(a=L[s]=C[s](h),a.c()),S(a,1),a.m(u.parentNode,u))},i(h){if(!d){for(let k=0;k<g.length;k+=1)S(m[k]);S(a),d=!0}},o(h){m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)A(m[k]);A(a),d=!1},d(h){h&&E(e),h&&E(o),h&&E(i),_e(m,h),h&&E(c),L[s].d(h),h&&E(u)}}}function Qe(t){let e,n;return e=new Ut({props:{posts:t[15],observer:t[6]}}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p(r,l){const o={};l&2&&(o.posts=r[15]),e.$set(o)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function wn(t){let e,n;return e=new kn({}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p:T,i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Sn(t){let e,n;return e=new gn({}),e.$on("visible",t[12]),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},p:T,i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function En(t){let e,n,r,l,o,i,c,s,a,u,d,g,m,$,C,L,w,h,k;r=new cn({}),r.$on("pick",t[9]);let I=[...t[5]],p=[];for(let y=0;y<I.length;y+=1)p[y]=Je(Ze(t,I,y));const x=y=>A(p[y],1,1,()=>{p[y]=null});g=new Yt({props:{title:"Click to search with active tags",icon:"search",text:"Search"}}),g.$on("click",t[7]);const P=[yn,$n],O=[];function R(y,M){return y[0]?0:y[0]===0?1:-1}return~($=R(t))&&(C=O[$]=P[$](t)),{c(){e=b("h1"),e.textContent="kurosearch",n=N(),D(r.$$.fragment),l=N(),o=b("ul");for(let y=0;y<p.length;y+=1)p[y].c();i=N(),c=b("div"),s=b("select"),a=b("option"),a.textContent="New",u=b("option"),u.textContent="Popular",d=N(),D(g.$$.fragment),m=N(),C&&C.c(),L=ge(),f(e,"class","svelte-1822wy9"),f(o,"class","svelte-1822wy9"),a.__value="id",a.value=a.__value,u.__value="score",u.value=u.__value,f(s,"class","svelte-1822wy9"),t[2]===void 0&&de(()=>t[11].call(s)),f(c,"class","sort-row svelte-1822wy9")},m(y,M){j(y,e,M),j(y,n,M),B(r,y,M),j(y,l,M),j(y,o,M);for(let Q=0;Q<p.length;Q+=1)p[Q].m(o,null);j(y,i,M),j(y,c,M),v(c,s),v(s,a),v(s,u),$e(s,t[2]),v(c,d),B(g,c,null),j(y,m,M),~$&&O[$].m(y,M),j(y,L,M),w=!0,h||(k=Y(s,"change",t[11]),h=!0)},p(y,[M]){if(M&32){I=[...y[5]];let H;for(H=0;H<I.length;H+=1){const Le=Ze(y,I,H);p[H]?(p[H].p(Le,M),S(p[H],1)):(p[H]=Je(Le),p[H].c(),S(p[H],1),p[H].m(o,null))}for(K(),H=I.length;H<p.length;H+=1)x(H);G()}M&4&&$e(s,y[2]);let Q=$;$=R(y),$===Q?~$&&O[$].p(y,M):(C&&(K(),A(O[Q],1,1,()=>{O[Q]=null}),G()),~$?(C=O[$],C?C.p(y,M):(C=O[$]=P[$](y),C.c()),S(C,1),C.m(L.parentNode,L)):C=null)},i(y){if(!w){S(r.$$.fragment,y);for(let M=0;M<I.length;M+=1)S(p[M]);S(g.$$.fragment,y),S(C),w=!0}},o(y){A(r.$$.fragment,y),p=p.filter(Boolean);for(let M=0;M<p.length;M+=1)A(p[M]);A(g.$$.fragment,y),A(C),w=!1},d(y){y&&E(e),y&&E(n),W(r,y),y&&E(l),y&&E(o),_e(p,y),y&&E(i),y&&E(c),W(g),y&&E(m),~$&&O[$].d(y),y&&E(L),h=!1,k()}}}const Ve=20;function jn(t,e,n){let r,l;ae(t,re,w=>n(5,l=w));const o=new IntersectionObserver(w=>{for(const h of w)h.target.src=h.isIntersecting?h.target.getAttribute("data-src"):""},{rootMargin:"1250px"});let i,c=[],s="id",a=null,u=0;function d(){n(1,c=[]),n(0,a=null),i!==void 0&&i.abort("New search triggered"),n(3,u=0),i=new AbortController,g(n(3,u++,u))}async function g(w){const h=[...l.map(p=>p.name),`sort:${s}:desc`].filter(p=>p!=null&&p!=="").map(encodeURIComponent).join("+"),k=await fetch(`https://r34-json.herokuapp.com/v2/posts?limit=${Ve}&pid=${w}&tags=${h}`,{signal:i.signal}),I=await k.json();if(k.ok)return n(0,a=I.count),n(1,c=[...c,I.posts]),I;throw new Error("fuck")}const m=w=>re.add(w.detail),$=w=>re.removeByIndex(w);function C(){s=lt(this),n(2,s)}const L=()=>g(n(3,u++,u));return t.$$.update=()=>{t.$$.dirty&1&&n(4,r=a/Ve)},[a,c,s,u,r,l,o,d,g,m,$,C,L]}class Tn extends U{constructor(e){super(),F(this,e,jn,En,z,{})}}const Ce=Ie("dark");function An(t){let e,n,r,l,o;return{c(){e=b("select"),n=b("option"),n.textContent="Dark",r=b("option"),r.textContent="Light",n.__value="dark",n.value=n.__value,r.__value="light",r.value=r.__value,t[0]===void 0&&de(()=>t[1].call(e))},m(i,c){j(i,e,c),v(e,n),v(e,r),$e(e,t[0]),l||(o=Y(e,"change",t[1]),l=!0)},p(i,[c]){c&1&&$e(e,i[0])},i:T,o:T,d(i){i&&E(e),l=!1,o()}}}function Cn(t,e,n){let r;ae(t,Ce,o=>n(0,r=o));function l(){r=lt(this),Ce.set(r)}return[r,l]}class Pn extends U{constructor(e){super(),F(this,e,Cn,An,z,{})}}function In(t){let e;return{c(){e=b("p"),e.textContent="You got lost..."},m(n,r){j(n,e,r)},i:T,o:T,d(n){n&&E(e)}}}function Ln(t){let e,n;return e=new Pn({}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Nn(t){let e;return{c(){e=b("p"),e.textContent="account"},m(n,r){j(n,e,r)},i:T,o:T,d(n){n&&E(e)}}}function On(t){let e,n;return e=new Tn({}),{c(){D(e.$$.fragment)},m(r,l){B(e,r,l),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Mn(t){let e,n,r,l,o,i;e=new yt({});const c=[On,Nn,Ln,In],s=[];function a(u,d){return u[0]==="search"?0:u[0]==="account"?1:u[0]==="settings"?2:3}return l=a(t),o=s[l]=c[l](t),{c(){D(e.$$.fragment),n=N(),r=b("main"),o.c(),f(r,"class","svelte-1gdcsy8")},m(u,d){B(e,u,d),j(u,n,d),j(u,r,d),s[l].m(r,null),i=!0},p(u,[d]){let g=l;l=a(u),l!==g&&(K(),A(s[g],1,1,()=>{s[g]=null}),G(),o=s[l],o||(o=s[l]=c[l](u),o.c()),S(o,1),o.m(r,null))},i(u){i||(S(e.$$.fragment,u),S(o),i=!0)},o(u){A(e.$$.fragment,u),A(o),i=!1},d(u){W(e,u),u&&E(n),u&&E(r),s[l].d()}}}function Rn(t,e,n){let r,l;ae(t,Ce,i=>n(1,r=i)),ae(t,ot,i=>n(0,l=i));const o=i=>i==="dark"?"light":"dark";return t.$$.update=()=>{t.$$.dirty&2&&document.body.classList.replace(o(r),r)},[l,r]}class Bn extends U{constructor(e){super(),F(this,e,Rn,Mn,z,{})}}try{self["workbox:window:6.5.2"]&&_()}catch{}function xe(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(l){n(l.data)},t.postMessage(e,[r.port2])})}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zn(t,e){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(l,o){if(l){if(typeof l=="string")return et(l,o);var i=Object.prototype.toString.call(l).slice(8,-1);return i==="Object"&&l.constructor&&(i=l.constructor.name),i==="Map"||i==="Set"?Array.from(l):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?et(l,o):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Se=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Ee(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var se=function(t,e){this.type=t,Object.assign(this,e)};function pe(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Dn(){}var Fn={type:"SKIP_WAITING"};function tt(t,e){if(!e)return t&&t.then?t.then(Dn):Promise.resolve()}var Un=function(t){var e,n;function r(c,s){var a,u;return s===void 0&&(s={}),(a=t.call(this)||this).nn={},a.tn=0,a.rn=new Se,a.en=new Se,a.on=new Se,a.un=0,a.an=new Set,a.cn=function(){var d=a.fn,g=d.installing;a.tn>0||!Ee(g.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=g,d.removeEventListener("updatefound",a.cn)):(a.hn=g,a.an.add(g),a.rn.resolve(g)),++a.tn,g.addEventListener("statechange",a.ln)},a.ln=function(d){var g=a.fn,m=d.target,$=m.state,C=m===a.vn,L={sw:m,isExternal:C,originalEvent:d};!C&&a.mn&&(L.isUpdate=!0),a.dispatchEvent(new se($,L)),$==="installed"?a.wn=self.setTimeout(function(){$==="installed"&&g.waiting===m&&a.dispatchEvent(new se("waiting",L))},200):$==="activating"&&(clearTimeout(a.wn),C||a.en.resolve(m))},a.dn=function(d){var g=a.hn,m=g!==navigator.serviceWorker.controller;a.dispatchEvent(new se("controlling",{isExternal:m,originalEvent:d,sw:g,isUpdate:a.mn})),m||a.on.resolve(g)},a.gn=(u=function(d){var g=d.data,m=d.ports,$=d.source;return pe(a.getSW(),function(){a.an.has($)&&a.dispatchEvent(new se("message",{data:g,originalEvent:d,ports:m,sw:$}))})},function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];try{return Promise.resolve(u.apply(this,d))}catch(m){return Promise.reject(m)}}),a.sn=c,a.nn=s,navigator.serviceWorker.addEventListener("message",a.gn),a}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l,o,i=r.prototype;return i.register=function(c){var s=(c===void 0?{}:c).immediate,a=s!==void 0&&s;try{var u=this;return function(d,g){var m=d();return m&&m.then?m.then(g):g(m)}(function(){if(!a&&document.readyState!=="complete")return tt(new Promise(function(d){return window.addEventListener("load",d)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),pe(u.bn(),function(d){u.fn=d,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var g=u.fn.waiting;return g&&Ee(g.scriptURL,u.sn.toString())&&(u.hn=g,Promise.resolve().then(function(){u.dispatchEvent(new se("waiting",{sw:g,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(d){return Promise.reject(d)}},i.update=function(){try{return this.fn?tt(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},i.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},i.messageSW=function(c){try{return pe(this.getSW(),function(s){return xe(s,c)})}catch(s){return Promise.reject(s)}},i.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&xe(this.fn.waiting,Fn)},i.pn=function(){var c=navigator.serviceWorker.controller;return c&&Ee(c.scriptURL,this.sn.toString())?c:void 0},i.bn=function(){try{var c=this;return function(s,a){try{var u=s()}catch(d){return a(d)}return u&&u.then?u.then(void 0,a):u}(function(){return pe(navigator.serviceWorker.register(c.sn,c.nn),function(s){return c.un=performance.now(),s})},function(s){throw s})}catch(s){return Promise.reject(s)}},l=r,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Wn(l.prototype,o),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,l=zn(this.Sn(n.type));!(r=l()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function qn(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisterError:o}=t;let i;const c=async(s=!0)=>{};return"serviceWorker"in navigator&&(i=new Un("/kurosearch/sw.js",{scope:"/kurosearch/",type:"classic"}),i.addEventListener("activated",s=>{s.isUpdate?window.location.reload():r==null||r()}),i.register({immediate:e}).then(s=>{l==null||l(s)}).catch(s=>{o==null||o(s)})),c}new Bn({target:document.getElementById("app")});qn();
