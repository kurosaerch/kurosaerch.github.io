import{S as z,i as J,s as K,e as g,a as c,n as ne,t as pe,b as W,l as q,o as se,p as je,c as Q,d as P,r as ie,f as me,g as H,M as _e,h as r,j as V,k as w,m as C,q as oe,u as re,v as L,w as Ae,x as ce,y as F,z as M,A as N,B as Ce,C as Ge,D as Le,E as Ue,F as de,G as ae,H as le,I as Re,J as ve,K as he,L as be}from"./index.a4b4090b.js";function Be(n){let e,t,l,a;return{c(){e=g("i"),c(e,"title",n[1]),c(e,"class",t=ne(`codicon codicon-${n[2]}`)+" svelte-ga3rak"),c(e,"tabindex","0"),pe(e,"active",n[0])},m(s,i){W(s,e,i),l||(a=[q(e,"click",n[3]),q(e,"keyup",se(n[3])),q(e,"touchend",je(n[3]))],l=!0)},p(s,[i]){i&2&&c(e,"title",s[1]),i&4&&t!==(t=ne(`codicon codicon-${s[2]}`)+" svelte-ga3rak")&&c(e,"class",t),i&5&&pe(e,"active",s[0])},i:Q,o:Q,d(s){s&&P(e),l=!1,ie(a)}}}function Oe(n,e,t){let{title:l}=e,{icon:a}=e,{active:s}=e;const i=()=>{t(0,s=!s)};return n.$$set=o=>{"title"in o&&t(1,l=o.title),"icon"in o&&t(2,a=o.icon),"active"in o&&t(0,s=o.active)},[s,l,a,i]}class We extends z{constructor(e){super(),J(this,e,Oe,Be,K,{title:1,icon:2,active:0})}}function Pe(n){let e,t=me(n[0].name)+"",l,a;return{c(){e=g("li"),l=H(t),c(e,"class",a=ne(_e[n[0].modifier])+" svelte-ettvl0")},m(s,i){W(s,e,i),r(e,l)},p(s,[i]){i&1&&t!==(t=me(s[0].name)+"")&&V(l,t),i&1&&a!==(a=ne(_e[s[0].modifier])+" svelte-ettvl0")&&c(e,"class",a)},i:Q,o:Q,d(s){s&&P(e)}}}function qe(n,e,t){let{tag:l}=e;return n.$$set=a=>{"tag"in a&&t(0,l=a.tag)},[l]}class Fe extends z{constructor(e){super(),J(this,e,qe,Pe,K,{tag:0})}}function $e(n,e,t){const l=n.slice();return l[4]=e[t],l}function ke(n){let e,t;return e=new Fe({props:{tag:n[4]}}),{c(){F(e.$$.fragment)},m(l,a){M(e,l,a),t=!0},p(l,a){const s={};a&1&&(s.tag=l[4]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Me(n){let e,t,l=n[0].name+"",a,s,i,o=Object.keys(n[0].tags).length+"",u,f,m,d,p,b,v,_,y=n[0].description+"",I,$,R,T,Y,ee,B=n[0].tags,S=[];for(let h=0;h<B.length;h+=1)S[h]=ke($e(n,B,h));const X=h=>L(S[h],1,1,()=>{S[h]=null});return{c(){e=g("li"),t=g("h3"),a=H(l),s=w(),i=g("small"),u=H(o),f=H(" tags"),m=w(),d=g("i"),p=w(),b=g("i"),v=w(),_=g("span"),I=H(y),$=w(),R=g("ol");for(let h=0;h<S.length;h+=1)S[h].c();c(t,"class","svelte-j5poh"),c(i,"class","svelte-j5poh"),c(d,"tabindex","0"),c(d,"class","codicon codicon-edit svelte-j5poh"),c(b,"tabindex","0"),c(b,"class","codicon codicon-close svelte-j5poh"),c(_,"class","svelte-j5poh"),c(R,"class","svelte-j5poh"),c(e,"class","svelte-j5poh")},m(h,G){W(h,e,G),r(e,t),r(t,a),r(e,s),r(e,i),r(i,u),r(i,f),r(e,m),r(e,d),r(e,p),r(e,b),r(e,v),r(e,_),r(_,I),r(e,$),r(e,R);for(let E=0;E<S.length;E+=1)S[E].m(R,null);T=!0,Y||(ee=[q(d,"click",n[2]),q(d,"keyup",se(n[2])),q(b,"click",n[1]),q(b,"keyup",se(n[1]))],Y=!0)},p(h,[G]){if((!T||G&1)&&l!==(l=h[0].name+"")&&V(a,l),(!T||G&1)&&o!==(o=Object.keys(h[0].tags).length+"")&&V(u,o),(!T||G&1)&&y!==(y=h[0].description+"")&&V(I,y),G&1){B=h[0].tags;let E;for(E=0;E<B.length;E+=1){const D=$e(h,B,E);S[E]?(S[E].p(D,G),C(S[E],1)):(S[E]=ke(D),S[E].c(),C(S[E],1),S[E].m(R,null))}for(oe(),E=B.length;E<S.length;E+=1)X(E);re()}},i(h){if(!T){for(let G=0;G<B.length;G+=1)C(S[G]);T=!0}},o(h){S=S.filter(Boolean);for(let G=0;G<S.length;G+=1)L(S[G]);T=!1},d(h){h&&P(e),Ae(S,h),Y=!1,ie(ee)}}}function Ne(n,e,t){let{supertag:l}=e;const a=ce(),s=()=>a("remove",l),i=()=>a("edit",l);return n.$$set=o=>{"supertag"in o&&t(0,l=o.supertag)},[l,s,i]}class De extends z{constructor(e){super(),J(this,e,Ne,Me,K,{supertag:0})}}function Ye(n){let e,t,l,a,s,i,o,u,f;function m(p){n[3](p)}let d={icon:"eye",title:"Toggle password visibility."};return n[1]!==void 0&&(d.active=n[1]),s=new We({props:d}),Ce.push(()=>Ge(s,"active",m)),{c(){e=g("div"),t=g("input"),a=w(),F(s.$$.fragment),c(t,"type",l=n[1]?"text":"password"),t.value=n[0],c(t,"placeholder","Password"),c(t,"autocomplete","current-password"),c(t,"class","svelte-12r6jli"),c(e,"class","svelte-12r6jli")},m(p,b){W(p,e,b),r(e,t),r(e,a),M(s,e,null),o=!0,u||(f=q(t,"input",n[2]),u=!0)},p(p,[b]){(!o||b&2&&l!==(l=p[1]?"text":"password"))&&c(t,"type",l),(!o||b&1&&t.value!==p[0])&&(t.value=p[0]);const v={};!i&&b&2&&(i=!0,v.active=p[1],Le(()=>i=!1)),s.$set(v)},i(p){o||(C(s.$$.fragment,p),o=!0)},o(p){L(s.$$.fragment,p),o=!1},d(p){p&&P(e),N(s),u=!1,f()}}}function He(n,e,t){let{value:l}=e,a=!1;const s=o=>{t(0,l=o.target.value)};function i(o){a=o,t(1,a)}return n.$$set=o=>{"value"in o&&t(0,l=o.value)},[l,a,s,i]}class ze extends z{constructor(e){super(),J(this,e,He,Ye,K,{value:0})}}function we(n){let e,t;return{c(){e=g("span"),t=H(n[1])},m(l,a){W(l,e,a),r(e,t)},p(l,a){a&2&&V(t,l[1])},d(l){l&&P(e)}}}function Je(n){let e,t,l,a,s,i,o,u,f,m,d;function p(_){n[7](_)}let b={};n[3]!==void 0&&(b.value=n[3]),a=new ze({props:b}),Ce.push(()=>Ge(a,"value",p));let v=typeof n[1]=="string"&&n[1]!==""&&we(n);return u=new Ue({props:{text:n[0],title:"Click to sign in",disabled:n[4]}}),{c(){e=g("form"),t=g("input"),l=w(),F(a.$$.fragment),i=w(),v&&v.c(),o=w(),F(u.$$.fragment),c(t,"type","text"),c(t,"placeholder","Email"),c(t,"autocomplete","email"),c(t,"class","svelte-169jahb"),c(e,"class","svelte-169jahb")},m(_,y){W(_,e,y),r(e,t),de(t,n[2]),r(e,l),M(a,e,null),r(e,i),v&&v.m(e,null),r(e,o),M(u,e,null),f=!0,m||(d=[q(t,"input",n[6]),q(e,"submit",je(n[5]))],m=!0)},p(_,[y]){y&4&&t.value!==_[2]&&de(t,_[2]);const I={};!s&&y&8&&(s=!0,I.value=_[3],Le(()=>s=!1)),a.$set(I),typeof _[1]=="string"&&_[1]!==""?v?v.p(_,y):(v=we(_),v.c(),v.m(e,o)):v&&(v.d(1),v=null);const $={};y&1&&($.text=_[0]),y&16&&($.disabled=_[4]),u.$set($)},i(_){f||(C(a.$$.fragment,_),C(u.$$.fragment,_),f=!0)},o(_){L(a.$$.fragment,_),L(u.$$.fragment,_),f=!1},d(_){_&&P(e),N(a),v&&v.d(),N(u),m=!1,ie(d)}}}function Ke(n,e,t){let l;const a=ce();let{submitLabel:s}=e,{error:i}=e,o="",u="";const f=()=>{l||a("submit",{email:o,password:u})};function m(){o=this.value,t(2,o)}function d(p){u=p,t(3,u)}return n.$$set=p=>{"submitLabel"in p&&t(0,s=p.submitLabel),"error"in p&&t(1,i=p.error)},n.$$.update=()=>{n.$$.dirty&12&&t(4,l=!o||!u)},[s,i,o,u,l,f,m,d]}class ye extends z{constructor(e){super(),J(this,e,Ke,Je,K,{submitLabel:0,error:1})}}function Qe(n){let e,t;return{c(){e=g("img"),ae(e.src,t="/icon/google.png")||c(e,"src",t),c(e,"alt","Google"),c(e,"class","svelte-1daylrb")},m(l,a){W(l,e,a)},p:Q,i:Q,o:Q,d(l){l&&P(e)}}}class Ve extends z{constructor(e){super(),J(this,e,null,Qe,K,{})}}function Xe(n){let e,t,l,a,s,i,o,u;return t=new Ve({}),{c(){e=g("button"),F(t.$$.fragment),l=w(),a=g("span"),s=H(n[0]),c(a,"class","svelte-w5bo0p"),c(e,"class","svelte-w5bo0p")},m(f,m){W(f,e,m),M(t,e,null),r(e,l),r(e,a),r(a,s),i=!0,o||(u=q(e,"click",n[2]),o=!0)},p(f,[m]){(!i||m&1)&&V(s,f[0])},i(f){i||(C(t.$$.fragment,f),i=!0)},o(f){L(t.$$.fragment,f),i=!1},d(f){f&&P(e),N(t),o=!1,u()}}}function Ze(n,e,t){let{content:l}=e;const a=ce(),s=()=>a("click");return n.$$set=i=>{"content"in i&&t(0,l=i.content)},[l,a,s]}class xe extends z{constructor(e){super(),J(this,e,Ze,Xe,K,{content:0})}}function et(n){let e,t,l,a,s,i,o,u,f,m,d,p,b,v,_,y,I;return s=new ye({props:{submitLabel:"Sign In",error:n[0]}}),s.$on("submit",n[3]),f=new xe({props:{content:"Sign in With Google"}}),f.$on("click",n[4]),y=new ye({props:{submitLabel:"Create Account",error:n[1]}}),y.$on("submit",n[5]),{c(){e=g("div"),t=g("div"),l=g("h3"),l.textContent="Sign In",a=w(),F(s.$$.fragment),i=w(),o=g("p"),o.textContent="or",u=w(),F(f.$$.fragment),m=w(),d=g("div"),p=w(),b=g("div"),v=g("h3"),v.textContent="Sign Up",_=w(),F(y.$$.fragment),c(o,"class","svelte-xmob14"),c(t,"class","providerlist svelte-xmob14"),c(d,"class","divider svelte-xmob14"),c(b,"class","providerlist svelte-xmob14"),c(e,"class","container svelte-xmob14")},m($,R){W($,e,R),r(e,t),r(t,l),r(t,a),M(s,t,null),r(t,i),r(t,o),r(t,u),M(f,t,null),r(e,m),r(e,d),r(e,p),r(e,b),r(b,v),r(b,_),M(y,b,null),I=!0},p($,[R]){const T={};R&1&&(T.error=$[0]),s.$set(T);const Y={};R&2&&(Y.error=$[1]),y.$set(Y)},i($){I||(C(s.$$.fragment,$),C(f.$$.fragment,$),C(y.$$.fragment,$),I=!0)},o($){L(s.$$.fragment,$),L(f.$$.fragment,$),L(y.$$.fragment,$),I=!1},d($){$&&P(e),N(s),N(f),N(y)}}}function tt(n,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address.","auth/password-too-short":"Password to short. Must be at least 8 letters."};let a="",s="";const i=async(m,d)=>{try{t(1,s=""),await m()}catch(p){p.code in l?d(l[p.code]):(console.error(p),d(p.message))}};return[a,s,i,m=>i(()=>le.signInWithEmail(m.detail.email,m.detail.password),d=>{t(0,a=d)}),()=>le.signInWithGoogle(),m=>i(()=>le.signUpWithEmail(m.detail.email,m.detail.password),d=>{t(1,s=d)})]}class lt extends z{constructor(e){super(),J(this,e,tt,et,K,{})}}function Se(n,e,t){const l=n.slice();return l[4]=e[t],l}function nt(n){let e,t;return e=new lt({}),{c(){F(e.$$.fragment)},m(l,a){M(e,l,a),t=!0},p:Q,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function st(n){var ue;let e,t,l,a,s,i,o,u,f,m=((ue=n[0].user.displayName)!=null?ue:"Anonymous")+"",d,p,b,v=n[0].user.email+"",_,y,I,$,R,T,Y,ee,B,S,X,h,G,E,D,Z,O=n[1].supertags.length===0&&Ee(),x=n[1].supertags,j=[];for(let k=0;k<x.length;k+=1)j[k]=Ie(Se(n,x,k));const Te=k=>L(j[k],1,1,()=>{j[k]=null});return D=new Ue({props:{text:"Sign out",title:"Click to sign out"}}),D.$on("click",n[3]),{c(){var k;e=g("div"),t=g("div"),l=g("h2"),l.textContent="Signed in as",a=w(),s=g("div"),i=g("img"),u=w(),f=g("span"),d=H(m),p=w(),b=g("span"),_=H(v),y=w(),I=g("div"),$=g("h2"),$.textContent="Your supertags",R=w(),T=g("div"),Y=w(),O&&O.c(),ee=w(),B=g("ul");for(let A=0;A<j.length;A+=1)j[A].c();S=w(),X=g("div"),h=g("h2"),h.textContent="Actions",G=w(),E=g("div"),F(D.$$.fragment),c(l,"class","svelte-1lk6d9o"),c(i,"class","profile-picture svelte-1lk6d9o"),ae(i.src,o=(k=n[0].user.photoURL)!=null?k:be)||c(i,"src",o),c(i,"alt","Profile"),c(f,"class","name svelte-1lk6d9o"),c(s,"class","overview svelte-1lk6d9o"),c($,"class","svelte-1lk6d9o"),c(T,"class","supertags"),c(B,"class","svelte-1lk6d9o"),c(h,"class","svelte-1lk6d9o"),c(E,"class","actions svelte-1lk6d9o"),c(e,"class","account-view svelte-1lk6d9o")},m(k,A){W(k,e,A),r(e,t),r(t,l),r(t,a),r(t,s),r(s,i),r(s,u),r(s,f),r(f,d),r(s,p),r(s,b),r(b,_),r(e,y),r(e,I),r(I,$),r(I,R),r(I,T),r(I,Y),O&&O.m(I,null),r(I,ee),r(I,B);for(let te=0;te<j.length;te+=1)j[te].m(B,null);r(e,S),r(e,X),r(X,h),r(X,G),r(X,E),M(D,E,null),Z=!0},p(k,A){var te,fe;if((!Z||A&1&&!ae(i.src,o=(te=k[0].user.photoURL)!=null?te:be))&&c(i,"src",o),(!Z||A&1)&&m!==(m=((fe=k[0].user.displayName)!=null?fe:"Anonymous")+"")&&V(d,m),(!Z||A&1)&&v!==(v=k[0].user.email+"")&&V(_,v),k[1].supertags.length===0?O||(O=Ee(),O.c(),O.m(I,ee)):O&&(O.d(1),O=null),A&2){x=k[1].supertags;let U;for(U=0;U<x.length;U+=1){const ge=Se(k,x,U);j[U]?(j[U].p(ge,A),C(j[U],1)):(j[U]=Ie(ge),j[U].c(),C(j[U],1),j[U].m(B,null))}for(oe(),U=x.length;U<j.length;U+=1)Te(U);re()}},i(k){if(!Z){for(let A=0;A<x.length;A+=1)C(j[A]);C(D.$$.fragment,k),Z=!0}},o(k){j=j.filter(Boolean);for(let A=0;A<j.length;A+=1)L(j[A]);L(D.$$.fragment,k),Z=!1},d(k){k&&P(e),O&&O.d(),Ae(j,k),N(D)}}}function Ee(n){let e;return{c(){e=g("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){W(t,e,l)},d(t){t&&P(e)}}}function Ie(n){let e,t;return e=new De({props:{supertag:n[4]}}),e.$on("remove",n[2]),{c(){F(e.$$.fragment)},m(l,a){M(e,l,a),t=!0},p(l,a){const s={};a&2&&(s.supertag=l[4]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function at(n){let e,t,l,a;const s=[st,nt],i=[];function o(u,f){return u[0].loggedIn?0:1}return e=o(n),t=i[e]=s[e](n),{c(){t.c(),l=Re()},m(u,f){i[e].m(u,f),W(u,l,f),a=!0},p(u,[f]){let m=e;e=o(u),e===m?i[e].p(u,f):(oe(),L(i[m],1,1,()=>{i[m]=null}),re(),t=i[e],t?t.p(u,f):(t=i[e]=s[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i(u){a||(C(t),a=!0)},o(u){L(t),a=!1},d(u){i[e].d(u),u&&P(l)}}}function it(n,e,t){let l,a;return ve(n,le,o=>t(0,l=o)),ve(n,he,o=>t(1,a=o)),[l,a,o=>he.deleteSupertag(o.detail),()=>le.signOut()]}class rt extends z{constructor(e){super(),J(this,e,it,at,K,{})}}export{rt as default};
