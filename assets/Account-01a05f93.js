import{S as H,i as J,s as K,e as g,a as u,n as le,t as ce,b as O,l as P,o as ne,p as Se,c as Q,d as W,r as ae,f as fe,g as Y,M as ge,h as r,j as V,k as S,m as G,q as ie,u as oe,v as U,w as Ee,x as re,y as q,z as F,A as M,B as Ie,C as Ae,D as Ce,E as Ge,F as me,G as se,H as te,I as Ue,J as pe,K as _e,L as de}from"./index-e4a2402d.js";function ze(n){let e,t,l,a;return{c(){e=g("i"),u(e,"title",n[1]),u(e,"class",t=le(`codicon codicon-${n[2]}`)+" svelte-ga3rak"),u(e,"tabindex","0"),u(e,"role","button"),ce(e,"active",n[0])},m(s,i){O(s,e,i),l||(a=[P(e,"click",n[3]),P(e,"keyup",ne(n[3])),P(e,"touchend",Se(n[3]))],l=!0)},p(s,[i]){i&2&&u(e,"title",s[1]),i&4&&t!==(t=le(`codicon codicon-${s[2]}`)+" svelte-ga3rak")&&u(e,"class",t),i&5&&ce(e,"active",s[0])},i:Q,o:Q,d(s){s&&W(e),l=!1,ae(a)}}}function Te(n,e,t){let{title:l}=e,{icon:a}=e,{active:s}=e;const i=()=>{t(0,s=!s)};return n.$$set=o=>{"title"in o&&t(1,l=o.title),"icon"in o&&t(2,a=o.icon),"active"in o&&t(0,s=o.active)},[s,l,a,i]}class je extends H{constructor(e){super(),J(this,e,Te,ze,K,{title:1,icon:2,active:0})}}function Re(n){let e,t=fe(n[0].name)+"",l,a;return{c(){e=g("li"),l=Y(t),u(e,"class",a=le(ge[n[0].modifier])+" svelte-ettvl0")},m(s,i){O(s,e,i),r(e,l)},p(s,[i]){i&1&&t!==(t=fe(s[0].name)+"")&&V(l,t),i&1&&a!==(a=le(ge[s[0].modifier])+" svelte-ettvl0")&&u(e,"class",a)},i:Q,o:Q,d(s){s&&W(e)}}}function Be(n,e,t){let{tag:l}=e;return n.$$set=a=>{"tag"in a&&t(0,l=a.tag)},[l]}class Oe extends H{constructor(e){super(),J(this,e,Be,Re,K,{tag:0})}}function ve(n,e,t){const l=n.slice();return l[4]=e[t],l}function he(n){let e,t;return e=new Oe({props:{tag:n[4]}}),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const s={};a&1&&(s.tag=l[4]),e.$set(s)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function We(n){let e,t,l=n[0].name+"",a,s,i,o=Object.keys(n[0].tags).length+"",c,f,p,v,m,$,h,_,E=(n[0].description||n[0].name)+"",I,k,j,T,D,ee,R=n[0].tags,y=[];for(let d=0;d<R.length;d+=1)y[d]=he(ve(n,R,d));const X=d=>U(y[d],1,1,()=>{y[d]=null});return{c(){e=g("li"),t=g("h3"),a=Y(l),s=S(),i=g("small"),c=Y(o),f=Y(" tags"),p=S(),v=g("i"),m=S(),$=g("i"),h=S(),_=g("span"),I=Y(E),k=S(),j=g("ol");for(let d=0;d<y.length;d+=1)y[d].c();u(t,"class","svelte-etz2ey"),u(i,"class","svelte-etz2ey"),u(v,"tabindex","0"),u(v,"class","codicon codicon-edit svelte-etz2ey"),u($,"tabindex","0"),u($,"class","codicon codicon-close svelte-etz2ey"),u(_,"class","svelte-etz2ey"),u(j,"class","svelte-etz2ey"),u(e,"class","svelte-etz2ey")},m(d,L){O(d,e,L),r(e,t),r(t,a),r(e,s),r(e,i),r(i,c),r(i,f),r(e,p),r(e,v),r(e,m),r(e,$),r(e,h),r(e,_),r(_,I),r(e,k),r(e,j);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(j,null);T=!0,D||(ee=[P(v,"click",n[2]),P(v,"keyup",ne(n[2])),P($,"click",n[1]),P($,"keyup",ne(n[1]))],D=!0)},p(d,[L]){if((!T||L&1)&&l!==(l=d[0].name+"")&&V(a,l),(!T||L&1)&&o!==(o=Object.keys(d[0].tags).length+"")&&V(c,o),(!T||L&1)&&E!==(E=(d[0].description||d[0].name)+"")&&V(I,E),L&1){R=d[0].tags;let w;for(w=0;w<R.length;w+=1){const N=ve(d,R,w);y[w]?(y[w].p(N,L),G(y[w],1)):(y[w]=he(N),y[w].c(),G(y[w],1),y[w].m(j,null))}for(ie(),w=R.length;w<y.length;w+=1)X(w);oe()}},i(d){if(!T){for(let L=0;L<R.length;L+=1)G(y[L]);T=!0}},o(d){y=y.filter(Boolean);for(let L=0;L<y.length;L+=1)U(y[L]);T=!1},d(d){d&&W(e),Ee(y,d),D=!1,ae(ee)}}}function Pe(n,e,t){let{supertag:l}=e;const a=re(),s=()=>a("remove",l),i=()=>a("edit",l);return n.$$set=o=>{"supertag"in o&&t(0,l=o.supertag)},[l,s,i]}class qe extends H{constructor(e){super(),J(this,e,Pe,We,K,{supertag:0})}}function Fe(n){let e,t,l,a,s,i,o,c,f;function p(m){n[3](m)}let v={icon:"eye",title:"Toggle password visibility."};return n[1]!==void 0&&(v.active=n[1]),s=new je({props:v}),Ie.push(()=>Ae(s,"active",p)),{c(){e=g("div"),t=g("input"),a=S(),q(s.$$.fragment),u(t,"type",l=n[1]?"text":"password"),t.value=n[0],u(t,"placeholder","Password"),u(t,"autocomplete","current-password"),u(t,"class","svelte-12r6jli"),u(e,"class","svelte-12r6jli")},m(m,$){O(m,e,$),r(e,t),r(e,a),F(s,e,null),o=!0,c||(f=P(t,"input",n[2]),c=!0)},p(m,[$]){(!o||$&2&&l!==(l=m[1]?"text":"password"))&&u(t,"type",l),(!o||$&1&&t.value!==m[0])&&(t.value=m[0]);const h={};!i&&$&2&&(i=!0,h.active=m[1],Ce(()=>i=!1)),s.$set(h)},i(m){o||(G(s.$$.fragment,m),o=!0)},o(m){U(s.$$.fragment,m),o=!1},d(m){m&&W(e),M(s),c=!1,f()}}}function Me(n,e,t){let{value:l}=e,a=!1;const s=o=>{t(0,l=o.target.value)};function i(o){a=o,t(1,a)}return n.$$set=o=>{"value"in o&&t(0,l=o.value)},[l,a,s,i]}class Ne extends H{constructor(e){super(),J(this,e,Me,Fe,K,{value:0})}}function be(n){let e,t;return{c(){e=g("span"),t=Y(n[1])},m(l,a){O(l,e,a),r(e,t)},p(l,a){a&2&&V(t,l[1])},d(l){l&&W(e)}}}function De(n){let e,t,l,a,s,i,o,c,f,p,v;function m(_){n[7](_)}let $={};n[3]!==void 0&&($.value=n[3]),a=new Ne({props:$}),Ie.push(()=>Ae(a,"value",m));let h=typeof n[1]=="string"&&n[1]!==""&&be(n);return c=new Ge({props:{text:n[0],title:"Click to sign in",disabled:n[4]}}),{c(){e=g("form"),t=g("input"),l=S(),q(a.$$.fragment),i=S(),h&&h.c(),o=S(),q(c.$$.fragment),u(t,"type","text"),u(t,"placeholder","Email"),u(t,"autocomplete","email"),u(t,"class","svelte-169jahb"),u(e,"class","svelte-169jahb")},m(_,E){O(_,e,E),r(e,t),me(t,n[2]),r(e,l),F(a,e,null),r(e,i),h&&h.m(e,null),r(e,o),F(c,e,null),f=!0,p||(v=[P(t,"input",n[6]),P(e,"submit",Se(n[5]))],p=!0)},p(_,[E]){E&4&&t.value!==_[2]&&me(t,_[2]);const I={};!s&&E&8&&(s=!0,I.value=_[3],Ce(()=>s=!1)),a.$set(I),typeof _[1]=="string"&&_[1]!==""?h?h.p(_,E):(h=be(_),h.c(),h.m(e,o)):h&&(h.d(1),h=null);const k={};E&1&&(k.text=_[0]),E&16&&(k.disabled=_[4]),c.$set(k)},i(_){f||(G(a.$$.fragment,_),G(c.$$.fragment,_),f=!0)},o(_){U(a.$$.fragment,_),U(c.$$.fragment,_),f=!1},d(_){_&&W(e),M(a),h&&h.d(),M(c),p=!1,ae(v)}}}function Ye(n,e,t){let l;const a=re();let{submitLabel:s}=e,{error:i}=e,o="",c="";const f=()=>{l||a("submit",{email:o,password:c})};function p(){o=this.value,t(2,o)}function v(m){c=m,t(3,c)}return n.$$set=m=>{"submitLabel"in m&&t(0,s=m.submitLabel),"error"in m&&t(1,i=m.error)},n.$$.update=()=>{n.$$.dirty&12&&t(4,l=!o||!c)},[s,i,o,c,l,f,p,v]}class $e extends H{constructor(e){super(),J(this,e,Ye,De,K,{submitLabel:0,error:1})}}function He(n){let e,t;return{c(){e=g("img"),se(e.src,t="/icon/google.png")||u(e,"src",t),u(e,"alt","Google"),u(e,"class","svelte-1daylrb")},m(l,a){O(l,e,a)},p:Q,i:Q,o:Q,d(l){l&&W(e)}}}class Je extends H{constructor(e){super(),J(this,e,null,He,K,{})}}function Ke(n){let e,t,l,a,s,i,o,c;return t=new Je({}),{c(){e=g("button"),q(t.$$.fragment),l=S(),a=g("span"),s=Y(n[0]),u(a,"class","svelte-w5bo0p"),u(e,"class","svelte-w5bo0p")},m(f,p){O(f,e,p),F(t,e,null),r(e,l),r(e,a),r(a,s),i=!0,o||(c=P(e,"click",n[2]),o=!0)},p(f,[p]){(!i||p&1)&&V(s,f[0])},i(f){i||(G(t.$$.fragment,f),i=!0)},o(f){U(t.$$.fragment,f),i=!1},d(f){f&&W(e),M(t),o=!1,c()}}}function Qe(n,e,t){let{content:l}=e;const a=re(),s=()=>a("click");return n.$$set=i=>{"content"in i&&t(0,l=i.content)},[l,a,s]}class Ve extends H{constructor(e){super(),J(this,e,Qe,Ke,K,{content:0})}}function Xe(n){let e,t,l,a,s,i,o,c,f,p,v,m,$,h,_,E,I;return s=new $e({props:{submitLabel:"Sign In",error:n[0]}}),s.$on("submit",n[3]),f=new Ve({props:{content:"Sign in With Google"}}),f.$on("click",n[4]),E=new $e({props:{submitLabel:"Create Account",error:n[1]}}),E.$on("submit",n[5]),{c(){e=g("div"),t=g("div"),l=g("h3"),l.textContent="Sign In",a=S(),q(s.$$.fragment),i=S(),o=g("p"),o.textContent="or",c=S(),q(f.$$.fragment),p=S(),v=g("div"),m=S(),$=g("div"),h=g("h3"),h.textContent="Sign Up",_=S(),q(E.$$.fragment),u(o,"class","svelte-xmob14"),u(t,"class","providerlist svelte-xmob14"),u(v,"class","divider svelte-xmob14"),u($,"class","providerlist svelte-xmob14"),u(e,"class","container svelte-xmob14")},m(k,j){O(k,e,j),r(e,t),r(t,l),r(t,a),F(s,t,null),r(t,i),r(t,o),r(t,c),F(f,t,null),r(e,p),r(e,v),r(e,m),r(e,$),r($,h),r($,_),F(E,$,null),I=!0},p(k,[j]){const T={};j&1&&(T.error=k[0]),s.$set(T);const D={};j&2&&(D.error=k[1]),E.$set(D)},i(k){I||(G(s.$$.fragment,k),G(f.$$.fragment,k),G(E.$$.fragment,k),I=!0)},o(k){U(s.$$.fragment,k),U(f.$$.fragment,k),U(E.$$.fragment,k),I=!1},d(k){k&&W(e),M(s),M(f),M(E)}}}function Ze(n,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address.","auth/password-too-short":"Password to short. Must be at least 8 letters."};let a="",s="";const i=async(p,v)=>{try{t(1,s=""),await p()}catch(m){m.code in l?v(l[m.code]):(console.error(m),v(m.message))}};return[a,s,i,p=>i(()=>te.signInWithEmail(p.detail.email,p.detail.password),v=>{t(0,a=v)}),()=>te.signInWithGoogle(),p=>i(()=>te.signUpWithEmail(p.detail.email,p.detail.password),v=>{t(1,s=v)})]}class xe extends H{constructor(e){super(),J(this,e,Ze,Xe,K,{})}}function ke(n,e,t){const l=n.slice();return l[4]=e[t],l}function et(n){let e,t;return e=new xe({}),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p:Q,i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function tt(n){let e,t,l,a,s,i,o,c,f,p=(n[0].user.displayName??"Anonymous")+"",v,m,$,h=n[0].user.email+"",_,E,I,k,j,T,D,ee,R,y,X,d,L,w,N,Z,B=n[1].supertags.length===0&&ye(),x=n[1].supertags,A=[];for(let b=0;b<x.length;b+=1)A[b]=we(ke(n,x,b));const Le=b=>U(A[b],1,1,()=>{A[b]=null});return N=new Ge({props:{text:"Sign out",title:"Click to sign out"}}),N.$on("click",n[3]),{c(){e=g("div"),t=g("div"),l=g("h2"),l.textContent="Signed in as",a=S(),s=g("div"),i=g("img"),c=S(),f=g("span"),v=Y(p),m=S(),$=g("span"),_=Y(h),E=S(),I=g("div"),k=g("h2"),k.textContent="Your supertags",j=S(),T=g("div"),D=S(),B&&B.c(),ee=S(),R=g("ul");for(let b=0;b<A.length;b+=1)A[b].c();y=S(),X=g("div"),d=g("h2"),d.textContent="Actions",L=S(),w=g("div"),q(N.$$.fragment),u(l,"class","svelte-1lk6d9o"),u(i,"class","profile-picture svelte-1lk6d9o"),se(i.src,o=n[0].user.photoURL??de)||u(i,"src",o),u(i,"alt","Profile"),u(f,"class","name svelte-1lk6d9o"),u(s,"class","overview svelte-1lk6d9o"),u(k,"class","svelte-1lk6d9o"),u(T,"class","supertags"),u(R,"class","svelte-1lk6d9o"),u(d,"class","svelte-1lk6d9o"),u(w,"class","actions svelte-1lk6d9o"),u(e,"class","account-view svelte-1lk6d9o")},m(b,z){O(b,e,z),r(e,t),r(t,l),r(t,a),r(t,s),r(s,i),r(s,c),r(s,f),r(f,v),r(s,m),r(s,$),r($,_),r(e,E),r(e,I),r(I,k),r(I,j),r(I,T),r(I,D),B&&B.m(I,null),r(I,ee),r(I,R);for(let C=0;C<A.length;C+=1)A[C]&&A[C].m(R,null);r(e,y),r(e,X),r(X,d),r(X,L),r(X,w),F(N,w,null),Z=!0},p(b,z){if((!Z||z&1&&!se(i.src,o=b[0].user.photoURL??de))&&u(i,"src",o),(!Z||z&1)&&p!==(p=(b[0].user.displayName??"Anonymous")+"")&&V(v,p),(!Z||z&1)&&h!==(h=b[0].user.email+"")&&V(_,h),b[1].supertags.length===0?B||(B=ye(),B.c(),B.m(I,ee)):B&&(B.d(1),B=null),z&2){x=b[1].supertags;let C;for(C=0;C<x.length;C+=1){const ue=ke(b,x,C);A[C]?(A[C].p(ue,z),G(A[C],1)):(A[C]=we(ue),A[C].c(),G(A[C],1),A[C].m(R,null))}for(ie(),C=x.length;C<A.length;C+=1)Le(C);oe()}},i(b){if(!Z){for(let z=0;z<x.length;z+=1)G(A[z]);G(N.$$.fragment,b),Z=!0}},o(b){A=A.filter(Boolean);for(let z=0;z<A.length;z+=1)U(A[z]);U(N.$$.fragment,b),Z=!1},d(b){b&&W(e),B&&B.d(),Ee(A,b),M(N)}}}function ye(n){let e;return{c(){e=g("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){O(t,e,l)},d(t){t&&W(e)}}}function we(n){let e,t;return e=new qe({props:{supertag:n[4]}}),e.$on("remove",n[2]),{c(){q(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const s={};a&2&&(s.supertag=l[4]),e.$set(s)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function lt(n){let e,t,l,a;const s=[tt,et],i=[];function o(c,f){return c[0].loggedIn?0:1}return e=o(n),t=i[e]=s[e](n),{c(){t.c(),l=Ue()},m(c,f){i[e].m(c,f),O(c,l,f),a=!0},p(c,[f]){let p=e;e=o(c),e===p?i[e].p(c,f):(ie(),U(i[p],1,1,()=>{i[p]=null}),oe(),t=i[e],t?t.p(c,f):(t=i[e]=s[e](c),t.c()),G(t,1),t.m(l.parentNode,l))},i(c){a||(G(t),a=!0)},o(c){U(t),a=!1},d(c){i[e].d(c),c&&W(l)}}}function nt(n,e,t){let l,a;return pe(n,te,o=>t(0,l=o)),pe(n,_e,o=>t(1,a=o)),[l,a,o=>_e.deleteSupertag(o.detail),()=>te.signOut()]}class at extends H{constructor(e){super(),J(this,e,nt,lt,K,{})}}export{at as default};
