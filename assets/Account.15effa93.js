import{S as V,i as X,s as Z,f as fe,e as g,t as N,a as c,n as pe,M as me,b as q,c as a,d as P,g as te,h as z,j as k,l as H,o as ge,k as C,m as ae,p as re,q as U,r as Ee,u as Ae,v as oe,w as D,x as M,y as Y,B as Ce,z as se,A as je,C as ne,D as le,E as Ge,F as _e,G as de,H as he}from"./index.df943197.js";function Ue(s){let e,t=fe(s[0].name)+"",l,n;return{c(){e=g("li"),l=N(t),c(e,"class",n=pe(me[s[0].modifier])+" svelte-ettvl0")},m(r,o){q(r,e,o),a(e,l)},p(r,[o]){o&1&&t!==(t=fe(r[0].name)+"")&&P(l,t),o&1&&n!==(n=pe(me[r[0].modifier])+" svelte-ettvl0")&&c(e,"class",n)},i:te,o:te,d(r){r&&z(e)}}}function Le(s,e,t){let{tag:l}=e;return s.$$set=n=>{"tag"in n&&t(0,l=n.tag)},[l]}class Re extends V{constructor(e){super(),X(this,e,Le,Ue,Z,{tag:0})}}function ve(s,e,t){const l=s.slice();return l[4]=e[t],l}function $e(s){let e,t;return e=new Re({props:{tag:s[4]}}),{c(){D(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&1&&(r.tag=l[4]),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Be(s){let e,t,l=s[0].name+"",n,r,o,i=Object.keys(s[0].tags).length+"",u,f,_,p,m,v,j,T,I=s[0].description+"",S,y,R,L,F,x,B=s[0].tags,$=[];for(let d=0;d<B.length;d+=1)$[d]=$e(ve(s,B,d));const J=d=>U($[d],1,1,()=>{$[d]=null});return{c(){e=g("li"),t=g("h3"),n=N(l),r=k(),o=g("small"),u=N(i),f=N(" tags"),_=k(),p=g("i"),m=k(),v=g("i"),j=k(),T=g("span"),S=N(I),y=k(),R=g("ol");for(let d=0;d<$.length;d+=1)$[d].c();c(t,"class","svelte-j5poh"),c(o,"class","svelte-j5poh"),c(p,"tabindex","0"),c(p,"class","codicon codicon-edit svelte-j5poh"),c(v,"tabindex","0"),c(v,"class","codicon codicon-close svelte-j5poh"),c(T,"class","svelte-j5poh"),c(R,"class","svelte-j5poh"),c(e,"class","svelte-j5poh")},m(d,A){q(d,e,A),a(e,t),a(t,n),a(e,r),a(e,o),a(o,u),a(o,f),a(e,_),a(e,p),a(e,m),a(e,v),a(e,j),a(e,T),a(T,S),a(e,y),a(e,R);for(let b=0;b<$.length;b+=1)$[b].m(R,null);L=!0,F||(x=[H(p,"click",s[2]),H(p,"keyup",ge(s[2])),H(v,"click",s[1]),H(v,"keyup",ge(s[1]))],F=!0)},p(d,[A]){if((!L||A&1)&&l!==(l=d[0].name+"")&&P(n,l),(!L||A&1)&&i!==(i=Object.keys(d[0].tags).length+"")&&P(u,i),(!L||A&1)&&I!==(I=d[0].description+"")&&P(S,I),A&1){B=d[0].tags;let b;for(b=0;b<B.length;b+=1){const W=ve(d,B,b);$[b]?($[b].p(W,A),C($[b],1)):($[b]=$e(W),$[b].c(),C($[b],1),$[b].m(R,null))}for(ae(),b=B.length;b<$.length;b+=1)J(b);re()}},i(d){if(!L){for(let A=0;A<B.length;A+=1)C($[A]);L=!0}},o(d){$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)U($[A]);L=!1},d(d){d&&z(e),Ee($,d),F=!1,Ae(x)}}}function Oe(s,e,t){let{supertag:l}=e;const n=oe(),r=()=>n("remove",l),o=()=>n("edit",l);return s.$$set=i=>{"supertag"in i&&t(0,l=i.supertag)},[l,r,o]}class Te extends V{constructor(e){super(),X(this,e,Oe,Be,Z,{supertag:0})}}function be(s){let e,t;return{c(){e=g("span"),t=N(s[1])},m(l,n){q(l,e,n),a(e,t)},p(l,n){n&2&&P(t,l[1])},d(l){l&&z(e)}}}function We(s){let e,t,l,n,r,o,i,u,f,_,p=typeof s[1]=="string"&&s[1]!==""&&be(s);return i=new Ce({props:{text:s[0],title:"Click to sign in",disabled:s[4]}}),{c(){e=g("form"),t=g("input"),l=k(),n=g("input"),r=k(),p&&p.c(),o=k(),D(i.$$.fragment),c(t,"type","text"),c(t,"placeholder","Email"),c(t,"autocomplete","email"),c(t,"class","svelte-cno66z"),c(n,"type","password"),c(n,"placeholder","Password"),c(n,"autocomplete","current-password"),c(n,"class","svelte-cno66z"),c(e,"class","svelte-cno66z")},m(m,v){q(m,e,v),a(e,t),se(t,s[2]),a(e,l),a(e,n),se(n,s[3]),a(e,r),p&&p.m(e,null),a(e,o),M(i,e,null),u=!0,f||(_=[H(t,"input",s[6]),H(n,"input",s[7]),H(e,"submit",je(s[5]))],f=!0)},p(m,[v]){v&4&&t.value!==m[2]&&se(t,m[2]),v&8&&n.value!==m[3]&&se(n,m[3]),typeof m[1]=="string"&&m[1]!==""?p?p.p(m,v):(p=be(m),p.c(),p.m(e,o)):p&&(p.d(1),p=null);const j={};v&1&&(j.text=m[0]),v&16&&(j.disabled=m[4]),i.$set(j)},i(m){u||(C(i.$$.fragment,m),u=!0)},o(m){U(i.$$.fragment,m),u=!1},d(m){m&&z(e),p&&p.d(),Y(i),f=!1,Ae(_)}}}function qe(s,e,t){let l;const n=oe();let{submitLabel:r}=e,{error:o}=e,i="",u="";const f=()=>{l||n("submit",{email:i,password:u})};function _(){i=this.value,t(2,i)}function p(){u=this.value,t(3,u)}return s.$$set=m=>{"submitLabel"in m&&t(0,r=m.submitLabel),"error"in m&&t(1,o=m.error)},s.$$.update=()=>{s.$$.dirty&12&&t(4,l=!i||!u)},[r,o,i,u,l,f,_,p]}class ke extends V{constructor(e){super(),X(this,e,qe,We,Z,{submitLabel:0,error:1})}}function ze(s){let e,t;return{c(){e=g("img"),ne(e.src,t="https://developers-dot-devsite-v2-prod.appspot.com/identity/sign-in/g-normal.png")||c(e,"src",t),c(e,"alt","Google"),c(e,"class","svelte-1daylrb")},m(l,n){q(l,e,n)},p:te,i:te,o:te,d(l){l&&z(e)}}}class Fe extends V{constructor(e){super(),X(this,e,null,ze,Z,{})}}function Ne(s){let e,t,l,n,r,o,i,u;return t=new Fe({}),{c(){e=g("button"),D(t.$$.fragment),l=k(),n=g("span"),r=N(s[0]),c(n,"class","svelte-w5bo0p"),c(e,"class","svelte-w5bo0p")},m(f,_){q(f,e,_),M(t,e,null),a(e,l),a(e,n),a(n,r),o=!0,i||(u=H(e,"click",s[2]),i=!0)},p(f,[_]){(!o||_&1)&&P(r,f[0])},i(f){o||(C(t.$$.fragment,f),o=!0)},o(f){U(t.$$.fragment,f),o=!1},d(f){f&&z(e),Y(t),i=!1,u()}}}function De(s,e,t){let{content:l}=e;const n=oe(),r=()=>n("click");return s.$$set=o=>{"content"in o&&t(0,l=o.content)},[l,n,r]}class Me extends V{constructor(e){super(),X(this,e,De,Ne,Z,{content:0})}}function Ye(s){let e,t,l,n,r,o,i,u,f,_,p,m,v,j,T,I,S;return r=new ke({props:{submitLabel:"Sign In",error:s[0]}}),r.$on("submit",s[3]),f=new Me({props:{content:"Sign in With Google"}}),f.$on("click",s[4]),I=new ke({props:{submitLabel:"Create Account",error:s[1]}}),I.$on("submit",s[5]),{c(){e=g("div"),t=g("div"),l=g("h3"),l.textContent="Sign In",n=k(),D(r.$$.fragment),o=k(),i=g("p"),i.textContent="or",u=k(),D(f.$$.fragment),_=k(),p=g("div"),m=k(),v=g("div"),j=g("h3"),j.textContent="Sign Up",T=k(),D(I.$$.fragment),c(i,"class","svelte-vfla8u"),c(t,"class","providerlist svelte-vfla8u"),c(p,"class","divider svelte-vfla8u"),c(v,"class","providerlist svelte-vfla8u"),c(e,"class","container svelte-vfla8u")},m(y,R){q(y,e,R),a(e,t),a(t,l),a(t,n),M(r,t,null),a(t,o),a(t,i),a(t,u),M(f,t,null),a(e,_),a(e,p),a(e,m),a(e,v),a(v,j),a(v,T),M(I,v,null),S=!0},p(y,[R]){const L={};R&1&&(L.error=y[0]),r.$set(L);const F={};R&2&&(F.error=y[1]),I.$set(F)},i(y){S||(C(r.$$.fragment,y),C(f.$$.fragment,y),C(I.$$.fragment,y),S=!0)},o(y){U(r.$$.fragment,y),U(f.$$.fragment,y),U(I.$$.fragment,y),S=!1},d(y){y&&z(e),Y(r),Y(f),Y(I)}}}function He(s,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address."};let n="",r="";const o=async(_,p)=>{try{t(1,r=""),await _()}catch(m){m.code in l?p(l[m.code]):(console.error(m),p(m.message))}};return[n,r,o,_=>o(()=>le.signInWithEmail(_.detail.email,_.detail.password),p=>{t(0,n=p)}),()=>le.signInWithGoogle(),_=>o(()=>le.signUpWithEmail(_.detail.email,_.detail.password),p=>{t(1,r=p)})]}class Pe extends V{constructor(e){super(),X(this,e,He,Ye,Z,{})}}function ye(s,e,t){const l=s.slice();return l[4]=e[t],l}function Je(s){let e,t;return e=new Pe({}),{c(){D(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:te,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Ke(s){var ie;let e,t,l,n,r,o,i,u,f,_=((ie=s[0].user.displayName)!=null?ie:"Anonymous")+"",p,m,v,j=s[0].user.email+"",T,I,S,y,R,L,F,x,B,$,J,d,A,b,W,K,O=s[1].supertags.length===0&&we(),Q=s[1].supertags,w=[];for(let h=0;h<Q.length;h+=1)w[h]=Se(ye(s,Q,h));const Ie=h=>U(w[h],1,1,()=>{w[h]=null});return W=new Ce({props:{text:"Sign out",title:"Click to sign out"}}),W.$on("click",s[3]),{c(){var h;e=g("div"),t=g("div"),l=g("h2"),l.textContent="Signed in as",n=k(),r=g("div"),o=g("img"),u=k(),f=g("span"),p=N(_),m=k(),v=g("span"),T=N(j),I=k(),S=g("div"),y=g("h2"),y.textContent="Your supertags",R=k(),L=g("div"),F=k(),O&&O.c(),x=k(),B=g("ul");for(let E=0;E<w.length;E+=1)w[E].c();$=k(),J=g("div"),d=g("h2"),d.textContent="Actions",A=k(),b=g("div"),D(W.$$.fragment),c(l,"class","svelte-1s81fkp"),c(o,"class","profile-picture svelte-1s81fkp"),ne(o.src,i=(h=s[0].user.photoURL)!=null?h:he)||c(o,"src",i),c(o,"alt","Profile"),c(f,"class","name svelte-1s81fkp"),c(r,"class","overview svelte-1s81fkp"),c(y,"class","svelte-1s81fkp"),c(L,"class","supertags"),c(B,"class","svelte-1s81fkp"),c(d,"class","svelte-1s81fkp"),c(b,"class","actions svelte-1s81fkp"),c(e,"class","account-view svelte-1s81fkp")},m(h,E){q(h,e,E),a(e,t),a(t,l),a(t,n),a(t,r),a(r,o),a(r,u),a(r,f),a(f,p),a(r,m),a(r,v),a(v,T),a(e,I),a(e,S),a(S,y),a(S,R),a(S,L),a(S,F),O&&O.m(S,null),a(S,x),a(S,B);for(let ee=0;ee<w.length;ee+=1)w[ee].m(B,null);a(e,$),a(e,J),a(J,d),a(J,A),a(J,b),M(W,b,null),K=!0},p(h,E){var ee,ce;if((!K||E&1&&!ne(o.src,i=(ee=h[0].user.photoURL)!=null?ee:he))&&c(o,"src",i),(!K||E&1)&&_!==(_=((ce=h[0].user.displayName)!=null?ce:"Anonymous")+"")&&P(p,_),(!K||E&1)&&j!==(j=h[0].user.email+"")&&P(T,j),h[1].supertags.length===0?O||(O=we(),O.c(),O.m(S,x)):O&&(O.d(1),O=null),E&2){Q=h[1].supertags;let G;for(G=0;G<Q.length;G+=1){const ue=ye(h,Q,G);w[G]?(w[G].p(ue,E),C(w[G],1)):(w[G]=Se(ue),w[G].c(),C(w[G],1),w[G].m(B,null))}for(ae(),G=Q.length;G<w.length;G+=1)Ie(G);re()}},i(h){if(!K){for(let E=0;E<Q.length;E+=1)C(w[E]);C(W.$$.fragment,h),K=!0}},o(h){w=w.filter(Boolean);for(let E=0;E<w.length;E+=1)U(w[E]);U(W.$$.fragment,h),K=!1},d(h){h&&z(e),O&&O.d(),Ee(w,h),Y(W)}}}function we(s){let e;return{c(){e=g("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){q(t,e,l)},d(t){t&&z(e)}}}function Se(s){let e,t;return e=new Te({props:{supertag:s[4]}}),e.$on("remove",s[2]),{c(){D(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&2&&(r.supertag=l[4]),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Qe(s){let e,t,l,n;const r=[Ke,Je],o=[];function i(u,f){return u[0].loggedIn?0:1}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),l=Ge()},m(u,f){o[e].m(u,f),q(u,l,f),n=!0},p(u,[f]){let _=e;e=i(u),e===_?o[e].p(u,f):(ae(),U(o[_],1,1,()=>{o[_]=null}),re(),t=o[e],t?t.p(u,f):(t=o[e]=r[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i(u){n||(C(t),n=!0)},o(u){U(t),n=!1},d(u){o[e].d(u),u&&z(l)}}}function Ve(s,e,t){let l,n;return _e(s,le,i=>t(0,l=i)),_e(s,de,i=>t(1,n=i)),[l,n,i=>de.deleteSupertag(i.detail),()=>le.signOut()]}class Ze extends V{constructor(e){super(),X(this,e,Ve,Qe,Z,{})}}export{Ze as default};
