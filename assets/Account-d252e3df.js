import{S as Q,i as V,s as X,f as fe,e as m,t as J,a as c,n as le,M as ge,b as j,c as r,d as Z,g as K,h as N,j as k,k as Ie,l as M,o as ie,m as I,p as ne,q as se,r as G,u as Ae,v as re,w as ue,x as R,y as B,z as O,D as Ue,B as ae,A as me,C as Ce,E as Te,F as De,G as Ge,H as pe,I as oe,J as ee,K as _e,L as de,N as ve}from"./index-2675767b.js";function je(n){let e,t=fe(n[0].name)+"",l,s;return{c(){e=m("li"),l=J(t),c(e,"class",s=le(ge[n[0].modifier])+" svelte-ettvl0")},m(a,i){j(a,e,i),r(e,l)},p(a,[i]){i&1&&t!==(t=fe(a[0].name)+"")&&Z(l,t),i&1&&s!==(s=le(ge[a[0].modifier])+" svelte-ettvl0")&&c(e,"class",s)},i:K,o:K,d(a){a&&N(e)}}}function Ne(n,e,t){let{tag:l}=e;return n.$$set=s=>{"tag"in s&&t(0,l=s.tag)},[l]}class Re extends Q{constructor(e){super(),V(this,e,Ne,je,X,{tag:0})}}function he(n,e,t){const l=n.slice();return l[7]=e[t],l}function be(n){let e,t;return e=new Re({props:{tag:n[7]}}),{c(){R(e.$$.fragment)},m(l,s){B(e,l,s),t=!0},p(l,s){const a={};s&1&&(a.tag=l[7]),e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function $e(n){let e,t;return e=new Ue({props:{$$slots:{default:[Be]},$$scope:{ctx:n}}}),e.$on("close",n[5]),{c(){R(e.$$.fragment)},m(l,s){B(e,l,s),t=!0},p(l,s){const a={};s&1024&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function Be(n){let e,t,l,s,a,i,o;return s=new ae({props:{text:"Yes, delete",title:"Delete supertag"}}),s.$on("click",n[2]),i=new ae({props:{text:"No, keep it",title:"Cancel"}}),i.$on("click",n[5]),{c(){e=m("div"),t=m("span"),t.textContent="Are you sure? This action cannot be undone.",l=k(),R(s.$$.fragment),a=k(),R(i.$$.fragment),c(t,"class","svelte-1fm9ntn"),c(e,"class","svelte-1fm9ntn")},m(u,f){j(u,e,f),r(e,t),r(e,l),B(s,e,null),r(e,a),B(i,e,null),o=!0},p:K,i(u){o||(I(s.$$.fragment,u),I(i.$$.fragment,u),o=!0)},o(u){G(s.$$.fragment,u),G(i.$$.fragment,u),o=!1},d(u){u&&N(e),O(s),O(i)}}}function Oe(n){let e,t,l=n[0].name+"",s,a,i,o=Object.keys(n[0].tags).length+"",u,f,p,h,_,S,b,v,A=(n[0].description||n[0].name)+"",T,E,W,Y,q,F,z,x,P=n[0].tags,w=[];for(let g=0;g<P.length;g+=1)w[g]=be(he(n,P,g));const te=g=>G(w[g],1,1,()=>{w[g]=null});let C=n[1]&&$e(n);return{c(){e=m("li"),t=m("h3"),s=J(l),a=k(),i=m("small"),u=J(o),f=J(" tags"),p=k(),h=m("i"),_=k(),S=m("i"),b=k(),v=m("span"),T=J(A),E=k(),W=m("ol");for(let g=0;g<w.length;g+=1)w[g].c();Y=k(),C&&C.c(),q=Ie(),c(t,"class","svelte-1fm9ntn"),c(i,"class","svelte-1fm9ntn"),c(h,"tabindex","0"),c(h,"class","codicon codicon-edit svelte-1fm9ntn"),c(S,"tabindex","0"),c(S,"class","codicon codicon-close svelte-1fm9ntn"),c(v,"class","svelte-1fm9ntn"),c(W,"class","svelte-1fm9ntn"),c(e,"class","svelte-1fm9ntn")},m(g,$){j(g,e,$),r(e,t),r(t,s),r(e,a),r(e,i),r(i,u),r(i,f),r(e,p),r(e,h),r(e,_),r(e,S),r(e,b),r(e,v),r(v,T),r(e,E),r(e,W);for(let d=0;d<w.length;d+=1)w[d]&&w[d].m(W,null);j(g,Y,$),C&&C.m(g,$),j(g,q,$),F=!0,z||(x=[M(h,"click",n[3]),M(h,"keyup",ie(n[3])),M(S,"click",n[4]),M(S,"keyup",ie(n[4]))],z=!0)},p(g,[$]){if((!F||$&1)&&l!==(l=g[0].name+"")&&Z(s,l),(!F||$&1)&&o!==(o=Object.keys(g[0].tags).length+"")&&Z(u,o),(!F||$&1)&&A!==(A=(g[0].description||g[0].name)+"")&&Z(T,A),$&1){P=g[0].tags;let d;for(d=0;d<P.length;d+=1){const H=he(g,P,d);w[d]?(w[d].p(H,$),I(w[d],1)):(w[d]=be(H),w[d].c(),I(w[d],1),w[d].m(W,null))}for(ne(),d=P.length;d<w.length;d+=1)te(d);se()}g[1]?C?(C.p(g,$),$&2&&I(C,1)):(C=$e(g),C.c(),I(C,1),C.m(q.parentNode,q)):C&&(ne(),G(C,1,1,()=>{C=null}),se())},i(g){if(!F){for(let $=0;$<P.length;$+=1)I(w[$]);I(C),F=!0}},o(g){w=w.filter(Boolean);for(let $=0;$<w.length;$+=1)G(w[$]);G(C),F=!1},d(g){g&&N(e),Ae(w,g),g&&N(Y),C&&C.d(g),g&&N(q),z=!1,re(x)}}}function We(n,e,t){let{supertag:l}=e,s=!1;const a=ue(),i=()=>a("remove",l),o=()=>a("edit",l),u=()=>t(1,s=!0),f=()=>t(1,s=!1);return n.$$set=p=>{"supertag"in p&&t(0,l=p.supertag)},[l,s,i,o,u,f]}class Pe extends Q{constructor(e){super(),V(this,e,We,Oe,X,{supertag:0})}}function qe(n){let e,t,l,s;return{c(){e=m("i"),c(e,"title",n[1]),c(e,"class",t=le(`codicon codicon-${n[2]}`)+" svelte-ga3rak"),c(e,"tabindex","0"),c(e,"role","button"),me(e,"active",n[0])},m(a,i){j(a,e,i),l||(s=[M(e,"click",n[3]),M(e,"keyup",ie(n[3])),M(e,"touchend",Ce(n[3]))],l=!0)},p(a,[i]){i&2&&c(e,"title",a[1]),i&4&&t!==(t=le(`codicon codicon-${a[2]}`)+" svelte-ga3rak")&&c(e,"class",t),i&5&&me(e,"active",a[0])},i:K,o:K,d(a){a&&N(e),l=!1,re(s)}}}function Fe(n,e,t){let{title:l}=e,{icon:s}=e,{active:a}=e;const i=()=>{t(0,a=!a)};return n.$$set=o=>{"title"in o&&t(1,l=o.title),"icon"in o&&t(2,s=o.icon),"active"in o&&t(0,a=o.active)},[a,l,s,i]}class Me extends Q{constructor(e){super(),V(this,e,Fe,qe,X,{title:1,icon:2,active:0})}}function Ye(n){let e,t,l,s,a,i,o,u,f;function p(_){n[3](_)}let h={icon:"eye",title:"Toggle password visibility."};return n[1]!==void 0&&(h.active=n[1]),a=new Me({props:h}),Te.push(()=>De(a,"active",p)),{c(){e=m("div"),t=m("input"),s=k(),R(a.$$.fragment),c(t,"type",l=n[1]?"text":"password"),t.value=n[0],c(t,"placeholder","Password"),c(t,"autocomplete","current-password"),c(t,"class","svelte-12r6jli"),c(e,"class","svelte-12r6jli")},m(_,S){j(_,e,S),r(e,t),r(e,s),B(a,e,null),o=!0,u||(f=M(t,"input",n[2]),u=!0)},p(_,[S]){(!o||S&2&&l!==(l=_[1]?"text":"password"))&&c(t,"type",l),(!o||S&1&&t.value!==_[0])&&(t.value=_[0]);const b={};!i&&S&2&&(i=!0,b.active=_[1],Ge(()=>i=!1)),a.$set(b)},i(_){o||(I(a.$$.fragment,_),o=!0)},o(_){G(a.$$.fragment,_),o=!1},d(_){_&&N(e),O(a),u=!1,f()}}}function He(n,e,t){let{value:l}=e,s=!1;const a=o=>{t(0,l=o.target.value)};function i(o){s=o,t(1,s)}return n.$$set=o=>{"value"in o&&t(0,l=o.value)},[l,s,a,i]}class ze extends Q{constructor(e){super(),V(this,e,He,Ye,X,{value:0})}}function ke(n){let e,t;return{c(){e=m("span"),t=J(n[1])},m(l,s){j(l,e,s),r(e,t)},p(l,s){s&2&&Z(t,l[1])},d(l){l&&N(e)}}}function Je(n){let e,t,l,s,a,i,o,u,f,p,h;function _(v){n[7](v)}let S={};n[3]!==void 0&&(S.value=n[3]),s=new ze({props:S}),Te.push(()=>De(s,"value",_));let b=typeof n[1]=="string"&&n[1]!==""&&ke(n);return u=new ae({props:{text:n[0],title:"Click to sign in",disabled:n[4]}}),{c(){e=m("form"),t=m("input"),l=k(),R(s.$$.fragment),i=k(),b&&b.c(),o=k(),R(u.$$.fragment),c(t,"type","text"),c(t,"placeholder","Email"),c(t,"autocomplete","email"),c(t,"class","svelte-169jahb"),c(e,"class","svelte-169jahb")},m(v,A){j(v,e,A),r(e,t),pe(t,n[2]),r(e,l),B(s,e,null),r(e,i),b&&b.m(e,null),r(e,o),B(u,e,null),f=!0,p||(h=[M(t,"input",n[6]),M(e,"submit",Ce(n[5]))],p=!0)},p(v,[A]){A&4&&t.value!==v[2]&&pe(t,v[2]);const T={};!a&&A&8&&(a=!0,T.value=v[3],Ge(()=>a=!1)),s.$set(T),typeof v[1]=="string"&&v[1]!==""?b?b.p(v,A):(b=ke(v),b.c(),b.m(e,o)):b&&(b.d(1),b=null);const E={};A&1&&(E.text=v[0]),A&16&&(E.disabled=v[4]),u.$set(E)},i(v){f||(I(s.$$.fragment,v),I(u.$$.fragment,v),f=!0)},o(v){G(s.$$.fragment,v),G(u.$$.fragment,v),f=!1},d(v){v&&N(e),O(s),b&&b.d(),O(u),p=!1,re(h)}}}function Ke(n,e,t){let l;const s=ue();let{submitLabel:a}=e,{error:i}=e,o="",u="";const f=()=>{l||s("submit",{email:o,password:u})};function p(){o=this.value,t(2,o)}function h(_){u=_,t(3,u)}return n.$$set=_=>{"submitLabel"in _&&t(0,a=_.submitLabel),"error"in _&&t(1,i=_.error)},n.$$.update=()=>{n.$$.dirty&12&&t(4,l=!o||!u)},[a,i,o,u,l,f,p,h]}class we extends Q{constructor(e){super(),V(this,e,Ke,Je,X,{submitLabel:0,error:1})}}function Qe(n){let e,t;return{c(){e=m("img"),oe(e.src,t="/icon/google.png")||c(e,"src",t),c(e,"alt","Google"),c(e,"class","svelte-1daylrb")},m(l,s){j(l,e,s)},p:K,i:K,o:K,d(l){l&&N(e)}}}class Ve extends Q{constructor(e){super(),V(this,e,null,Qe,X,{})}}function Xe(n){let e,t,l,s,a,i,o,u;return t=new Ve({}),{c(){e=m("button"),R(t.$$.fragment),l=k(),s=m("span"),a=J(n[0]),c(s,"class","svelte-w5bo0p"),c(e,"class","svelte-w5bo0p")},m(f,p){j(f,e,p),B(t,e,null),r(e,l),r(e,s),r(s,a),i=!0,o||(u=M(e,"click",n[2]),o=!0)},p(f,[p]){(!i||p&1)&&Z(a,f[0])},i(f){i||(I(t.$$.fragment,f),i=!0)},o(f){G(t.$$.fragment,f),i=!1},d(f){f&&N(e),O(t),o=!1,u()}}}function Ze(n,e,t){let{content:l}=e;const s=ue(),a=()=>s("click");return n.$$set=i=>{"content"in i&&t(0,l=i.content)},[l,s,a]}class xe extends Q{constructor(e){super(),V(this,e,Ze,Xe,X,{content:0})}}function et(n){let e,t,l,s,a,i,o,u,f,p,h,_,S,b,v,A,T;return a=new we({props:{submitLabel:"Sign In",error:n[0]}}),a.$on("submit",n[3]),f=new xe({props:{content:"Sign in With Google"}}),f.$on("click",n[4]),A=new we({props:{submitLabel:"Create Account",error:n[1]}}),A.$on("submit",n[5]),{c(){e=m("div"),t=m("div"),l=m("h3"),l.textContent="Sign In",s=k(),R(a.$$.fragment),i=k(),o=m("p"),o.textContent="or",u=k(),R(f.$$.fragment),p=k(),h=m("div"),_=k(),S=m("div"),b=m("h3"),b.textContent="Sign Up",v=k(),R(A.$$.fragment),c(o,"class","svelte-xmob14"),c(t,"class","providerlist svelte-xmob14"),c(h,"class","divider svelte-xmob14"),c(S,"class","providerlist svelte-xmob14"),c(e,"class","container svelte-xmob14")},m(E,W){j(E,e,W),r(e,t),r(t,l),r(t,s),B(a,t,null),r(t,i),r(t,o),r(t,u),B(f,t,null),r(e,p),r(e,h),r(e,_),r(e,S),r(S,b),r(S,v),B(A,S,null),T=!0},p(E,[W]){const Y={};W&1&&(Y.error=E[0]),a.$set(Y);const q={};W&2&&(q.error=E[1]),A.$set(q)},i(E){T||(I(a.$$.fragment,E),I(f.$$.fragment,E),I(A.$$.fragment,E),T=!0)},o(E){G(a.$$.fragment,E),G(f.$$.fragment,E),G(A.$$.fragment,E),T=!1},d(E){E&&N(e),O(a),O(f),O(A)}}}function tt(n,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address.","auth/password-too-short":"Password to short. Must be at least 8 letters."};let s="",a="";const i=async(p,h)=>{try{t(1,a=""),await p()}catch(_){_.code in l?h(l[_.code]):(console.error(_),h(_.message))}};return[s,a,i,p=>i(()=>ee.signInWithEmail(p.detail.email,p.detail.password),h=>{t(0,s=h)}),()=>ee.signInWithGoogle(),p=>i(()=>ee.signUpWithEmail(p.detail.email,p.detail.password),h=>{t(1,a=h)})]}class lt extends Q{constructor(e){super(),V(this,e,tt,et,X,{})}}function ye(n,e,t){const l=n.slice();return l[4]=e[t],l}function nt(n){let e,t;return e=new lt({}),{c(){R(e.$$.fragment)},m(l,s){B(e,l,s),t=!0},p:K,i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function st(n){let e,t,l,s,a,i,o,u,f,p=(n[0].user.displayName??"Anonymous")+"",h,_,S,b=n[0].user.email+"",v,A,T,E,W,Y,q,F,z,x,P,w,te,C,g,$,d=n[1].supertags.length===0&&Se(),H=n[1].supertags,D=[];for(let y=0;y<H.length;y+=1)D[y]=Ee(ye(n,H,y));const Le=y=>G(D[y],1,1,()=>{D[y]=null});return g=new ae({props:{text:"Sign out",title:"Click to sign out"}}),g.$on("click",n[3]),{c(){e=m("div"),t=m("div"),l=m("h2"),l.textContent="Signed in as",s=k(),a=m("div"),i=m("img"),u=k(),f=m("span"),h=J(p),_=k(),S=m("span"),v=J(b),A=k(),T=m("div"),E=m("h2"),E.textContent="Your supertags",W=k(),Y=m("div"),q=k(),d&&d.c(),F=k(),z=m("ul");for(let y=0;y<D.length;y+=1)D[y].c();x=k(),P=m("div"),w=m("h2"),w.textContent="Actions",te=k(),C=m("div"),R(g.$$.fragment),c(l,"class","svelte-1lk6d9o"),c(i,"class","profile-picture svelte-1lk6d9o"),oe(i.src,o=n[0].user.photoURL??ve)||c(i,"src",o),c(i,"alt","Profile"),c(f,"class","name svelte-1lk6d9o"),c(a,"class","overview svelte-1lk6d9o"),c(E,"class","svelte-1lk6d9o"),c(Y,"class","supertags"),c(z,"class","svelte-1lk6d9o"),c(w,"class","svelte-1lk6d9o"),c(C,"class","actions svelte-1lk6d9o"),c(e,"class","account-view svelte-1lk6d9o")},m(y,U){j(y,e,U),r(e,t),r(t,l),r(t,s),r(t,a),r(a,i),r(a,u),r(a,f),r(f,h),r(a,_),r(a,S),r(S,v),r(e,A),r(e,T),r(T,E),r(T,W),r(T,Y),r(T,q),d&&d.m(T,null),r(T,F),r(T,z);for(let L=0;L<D.length;L+=1)D[L]&&D[L].m(z,null);r(e,x),r(e,P),r(P,w),r(P,te),r(P,C),B(g,C,null),$=!0},p(y,U){if((!$||U&1&&!oe(i.src,o=y[0].user.photoURL??ve))&&c(i,"src",o),(!$||U&1)&&p!==(p=(y[0].user.displayName??"Anonymous")+"")&&Z(h,p),(!$||U&1)&&b!==(b=y[0].user.email+"")&&Z(v,b),y[1].supertags.length===0?d||(d=Se(),d.c(),d.m(T,F)):d&&(d.d(1),d=null),U&2){H=y[1].supertags;let L;for(L=0;L<H.length;L+=1){const ce=ye(y,H,L);D[L]?(D[L].p(ce,U),I(D[L],1)):(D[L]=Ee(ce),D[L].c(),I(D[L],1),D[L].m(z,null))}for(ne(),L=H.length;L<D.length;L+=1)Le(L);se()}},i(y){if(!$){for(let U=0;U<H.length;U+=1)I(D[U]);I(g.$$.fragment,y),$=!0}},o(y){D=D.filter(Boolean);for(let U=0;U<D.length;U+=1)G(D[U]);G(g.$$.fragment,y),$=!1},d(y){y&&N(e),d&&d.d(),Ae(D,y),O(g)}}}function Se(n){let e;return{c(){e=m("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){j(t,e,l)},d(t){t&&N(e)}}}function Ee(n){let e,t;return e=new Pe({props:{supertag:n[4]}}),e.$on("remove",n[2]),{c(){R(e.$$.fragment)},m(l,s){B(e,l,s),t=!0},p(l,s){const a={};s&2&&(a.supertag=l[4]),e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function at(n){let e,t,l,s;const a=[st,nt],i=[];function o(u,f){return u[0].loggedIn?0:1}return e=o(n),t=i[e]=a[e](n),{c(){t.c(),l=Ie()},m(u,f){i[e].m(u,f),j(u,l,f),s=!0},p(u,[f]){let p=e;e=o(u),e===p?i[e].p(u,f):(ne(),G(i[p],1,1,()=>{i[p]=null}),se(),t=i[e],t?t.p(u,f):(t=i[e]=a[e](u),t.c()),I(t,1),t.m(l.parentNode,l))},i(u){s||(I(t),s=!0)},o(u){G(t),s=!1},d(u){i[e].d(u),u&&N(l)}}}function it(n,e,t){let l,s;return _e(n,ee,o=>t(0,l=o)),_e(n,de,o=>t(1,s=o)),[l,s,o=>de.deleteSupertag(o.detail),()=>ee.signOut()]}class rt extends Q{constructor(e){super(),V(this,e,it,at,X,{})}}export{rt as default};
