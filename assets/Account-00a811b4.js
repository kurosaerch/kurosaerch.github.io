import{S as Q,i as V,s as X,f as ve,e as h,t as x,a as c,n as ue,M as he,b as j,c as u,l as J,d as ee,g as K,h as F,j as Pe,k as $e,m as I,o as Ue,p as fe,q as k,r as te,u as le,v as E,w as me,x as Be,y as _e,z as U,A as B,B as O,D as Oe,C as ne,E as ae,F as ie,T as We,G as oe,H as je,I as be,J as Re,K as ge,L as se,N as ke,O as ce,P as we}from"./index-70c28ef6.js";function Fe(n){let e,t=ve(n[0].name)+"",l,a,s,i;return{c(){e=h("li"),l=x(t),c(e,"class",a=ue(he[n[0].modifier])+" svelte-ettvl0")},m(o,r){j(o,e,r),u(e,l),s||(i=J(e,"click",n[1]),s=!0)},p(o,[r]){r&1&&t!==(t=ve(o[0].name)+"")&&ee(l,t),r&1&&a!==(a=ue(he[o[0].modifier])+" svelte-ettvl0")&&c(e,"class",a)},i:K,o:K,d(o){o&&F(e),s=!1,i()}}}function Me(n,e,t){let{tag:l}=e;function a(s){Pe.call(this,n,s)}return n.$$set=s=>{"tag"in s&&t(0,l=s.tag)},[l,a]}class qe extends Q{constructor(e){super(),V(this,e,Me,Fe,X,{tag:0})}}function Ye(n){let e,t,l;return{c(){e=h("input"),c(e,"type","text"),c(e,"placeholder",n[1]),c(e,"autocomplete",n[2]),c(e,"class","svelte-165va4y")},m(a,s){j(a,e,s),$e(e,n[0]),t||(l=J(e,"input",n[3]),t=!0)},p(a,[s]){s&2&&c(e,"placeholder",a[1]),s&4&&c(e,"autocomplete",a[2]),s&1&&e.value!==a[0]&&$e(e,a[0])},i:K,o:K,d(a){a&&F(e),t=!1,l()}}}function He(n,e,t){let{placeholder:l}=e,{autocomplete:a}=e,{value:s}=e;function i(){s=this.value,t(0,s)}return n.$$set=o=>{"placeholder"in o&&t(1,l=o.placeholder),"autocomplete"in o&&t(2,a=o.autocomplete),"value"in o&&t(0,s=o.value)},[s,l,a,i]}class pe extends Q{constructor(e){super(),V(this,e,He,Ye,X,{placeholder:1,autocomplete:2,value:0})}}function ye(n,e,t){const l=n.slice();return l[16]=e[t],l[18]=t,l}function Se(n,e,t){const l=n.slice();return l[16]=e[t],l}function Ie(n){let e,t;return e=new qe({props:{tag:n[16]}}),{c(){U(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const s={};a&1&&(s.tag=l[16]),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function Ee(n){let e,t;return e=new Oe({props:{$$slots:{default:[ze]},$$scope:{ctx:n}}}),e.$on("close",n[7]),{c(){U(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const s={};a&2097152&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function ze(n){let e,t,l,a,s,i,o;return a=new ne({props:{text:"Yes, delete",title:"Delete supertag"}}),a.$on("click",n[4]),i=new ne({props:{type:"secondary",text:"No, keep it",title:"Cancel"}}),i.$on("click",n[7]),{c(){e=h("div"),t=h("span"),t.textContent="Are you sure? This action cannot be undone.",l=I(),U(a.$$.fragment),s=I(),U(i.$$.fragment),c(t,"class","svelte-bor9ml"),c(e,"class","svelte-bor9ml")},m(r,g){j(r,e,g),u(e,t),u(e,l),B(a,e,null),u(e,s),B(i,e,null),o=!0},p:K,i(r){o||(k(a.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){E(a.$$.fragment,r),E(i.$$.fragment,r),o=!1},d(r){r&&F(e),O(a),O(i)}}}function Ce(n){let e,t;return e=new Oe({props:{$$slots:{default:[Je]},$$scope:{ctx:n}}}),e.$on("close",n[9]),{c(){U(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const s={};a&2097160&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function Te(n){let e,t;function l(){return n[13](n[18])}return e=new qe({props:{tag:n[16]}}),e.$on("click",l),{c(){U(e.$$.fragment)},m(a,s){B(e,a,s),t=!0},p(a,s){n=a;const i={};s&8&&(i.tag=n[16]),e.$set(i)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function Je(n){let e,t,l,a,s,i,o,r,g,d,S,_,T,A,P;function L(m){n[10](m)}let b={placeholder:"Name",autocomplete:"none"};n[3].name!==void 0&&(b.value=n[3].name),t=new pe({props:b}),ae.push(()=>ie(t,"value",L));function p(m){n[11](m)}let w={placeholder:"Description",autocomplete:"none"};n[3].description!==void 0&&(w.value=n[3].description),s=new pe({props:w}),ae.push(()=>ie(s,"value",p)),r=new We({}),r.$on("pick",n[12]);let R=n[3].tags,y=[];for(let m=0;m<R.length;m+=1)y[m]=Te(ye(n,R,m));const Y=m=>E(y[m],1,1,()=>{y[m]=null});return _=new ne({props:{text:"Save",title:"Save changes"}}),_.$on("click",n[14]),A=new ne({props:{type:"secondary",text:"Cancel",title:"Cancel"}}),A.$on("click",n[9]),{c(){e=h("div"),U(t.$$.fragment),a=I(),U(s.$$.fragment),o=I(),U(r.$$.fragment),g=I(),d=h("ul");for(let m=0;m<y.length;m+=1)y[m].c();S=I(),U(_.$$.fragment),T=I(),U(A.$$.fragment),c(d,"class","svelte-bor9ml"),c(e,"class","svelte-bor9ml")},m(m,q){j(m,e,q),B(t,e,null),u(e,a),B(s,e,null),u(e,o),B(r,e,null),u(e,g),u(e,d);for(let M=0;M<y.length;M+=1)y[M]&&y[M].m(d,null);u(e,S),B(_,e,null),u(e,T),B(A,e,null),P=!0},p(m,q){const M={};!l&&q&8&&(l=!0,M.value=m[3].name,oe(()=>l=!1)),t.$set(M);const H={};if(!i&&q&8&&(i=!0,H.value=m[3].description,oe(()=>i=!1)),s.$set(H),q&8){R=m[3].tags;let $;for($=0;$<R.length;$+=1){const Z=ye(m,R,$);y[$]?(y[$].p(Z,q),k(y[$],1)):(y[$]=Te(Z),y[$].c(),k(y[$],1),y[$].m(d,null))}for(te(),$=R.length;$<y.length;$+=1)Y($);le()}},i(m){if(!P){k(t.$$.fragment,m),k(s.$$.fragment,m),k(r.$$.fragment,m);for(let q=0;q<R.length;q+=1)k(y[q]);k(_.$$.fragment,m),k(A.$$.fragment,m),P=!0}},o(m){E(t.$$.fragment,m),E(s.$$.fragment,m),E(r.$$.fragment,m),y=y.filter(Boolean);for(let q=0;q<y.length;q+=1)E(y[q]);E(_.$$.fragment,m),E(A.$$.fragment,m),P=!1},d(m){m&&F(e),O(t),O(s),O(r),me(y,m),O(_),O(A)}}}function Ke(n){let e,t,l=n[0].name+"",a,s,i,o=Object.keys(n[0].tags).length+"",r,g,d,S,_,T,A,P,L=(n[0].description||n[0].name)+"",b,p,w,R,y,Y,m,q,M,H=n[0].tags,$=[];for(let f=0;f<H.length;f+=1)$[f]=Ie(Se(n,H,f));const Z=f=>E($[f],1,1,()=>{$[f]=null});let N=n[1]&&Ee(n),G=n[2]&&Ce(n);return{c(){e=h("li"),t=h("h3"),a=x(l),s=I(),i=h("small"),r=x(o),g=x(" tags"),d=I(),S=h("i"),_=I(),T=h("i"),A=I(),P=h("span"),b=x(L),p=I(),w=h("ol");for(let f=0;f<$.length;f+=1)$[f].c();R=I(),N&&N.c(),y=I(),G&&G.c(),Y=Ue(),c(t,"class","svelte-bor9ml"),c(i,"class","svelte-bor9ml"),c(S,"tabindex","0"),c(S,"class","codicon codicon-edit svelte-bor9ml"),c(T,"tabindex","0"),c(T,"class","codicon codicon-close svelte-bor9ml"),c(P,"class","svelte-bor9ml"),c(w,"class","svelte-bor9ml"),c(e,"class","svelte-bor9ml")},m(f,C){j(f,e,C),u(e,t),u(t,a),u(e,s),u(e,i),u(i,r),u(i,g),u(e,d),u(e,S),u(e,_),u(e,T),u(e,A),u(e,P),u(P,b),u(e,p),u(e,w);for(let v=0;v<$.length;v+=1)$[v]&&$[v].m(w,null);j(f,R,C),N&&N.m(f,C),j(f,y,C),G&&G.m(f,C),j(f,Y,C),m=!0,q||(M=[J(S,"click",n[8]),J(S,"keyup",fe(n[8])),J(T,"click",n[6]),J(T,"keyup",fe(n[6]))],q=!0)},p(f,[C]){if((!m||C&1)&&l!==(l=f[0].name+"")&&ee(a,l),(!m||C&1)&&o!==(o=Object.keys(f[0].tags).length+"")&&ee(r,o),(!m||C&1)&&L!==(L=(f[0].description||f[0].name)+"")&&ee(b,L),C&1){H=f[0].tags;let v;for(v=0;v<H.length;v+=1){const re=Se(f,H,v);$[v]?($[v].p(re,C),k($[v],1)):($[v]=Ie(re),$[v].c(),k($[v],1),$[v].m(w,null))}for(te(),v=H.length;v<$.length;v+=1)Z(v);le()}f[1]?N?(N.p(f,C),C&2&&k(N,1)):(N=Ee(f),N.c(),k(N,1),N.m(y.parentNode,y)):N&&(te(),E(N,1,1,()=>{N=null}),le()),f[2]?G?(G.p(f,C),C&4&&k(G,1)):(G=Ce(f),G.c(),k(G,1),G.m(Y.parentNode,Y)):G&&(te(),E(G,1,1,()=>{G=null}),le())},i(f){if(!m){for(let C=0;C<H.length;C+=1)k($[C]);k(N),k(G),m=!0}},o(f){$=$.filter(Boolean);for(let C=0;C<$.length;C+=1)E($[C]);E(N),E(G),m=!1},d(f){f&&F(e),me($,f),f&&F(R),N&&N.d(f),f&&F(y),G&&G.d(f),f&&F(Y),q=!1,Be(M)}}}function Qe(n,e,t){let{supertag:l}=e,a=!1,s=!1,i={...l,tags:[...l.tags]};const o=_e(),r=()=>o("remove",l),g=()=>o("edit",{oldName:l.name,newSupertag:i}),d=()=>t(1,a=!0),S=()=>t(1,a=!1),_=()=>{t(2,s=!0),t(3,i={...l,tags:[...l.tags]})},T=()=>t(2,s=!1);function A(w){n.$$.not_equal(i.name,w)&&(i.name=w,t(3,i))}function P(w){n.$$.not_equal(i.description,w)&&(i.description=w,t(3,i))}const L=w=>t(3,i.tags=[...i.tags,new je(w.detail.modifier,w.detail.name)],i),b=w=>{i.tags.splice(w,1),t(3,i.tags=[...i.tags],i)},p=()=>{g(),T()};return n.$$set=w=>{"supertag"in w&&t(0,l=w.supertag)},[l,a,s,i,r,g,d,S,_,T,A,P,L,b,p]}class Ve extends Q{constructor(e){super(),V(this,e,Qe,Ke,X,{supertag:0})}}function Xe(n){let e,t,l,a;return{c(){e=h("i"),c(e,"title",n[1]),c(e,"class",t=ue(`codicon codicon-${n[2]}`)+" svelte-ga3rak"),c(e,"tabindex","0"),c(e,"role","button"),be(e,"active",n[0])},m(s,i){j(s,e,i),l||(a=[J(e,"click",n[3]),J(e,"keyup",fe(n[3])),J(e,"touchend",Re(n[3]))],l=!0)},p(s,[i]){i&2&&c(e,"title",s[1]),i&4&&t!==(t=ue(`codicon codicon-${s[2]}`)+" svelte-ga3rak")&&c(e,"class",t),i&5&&be(e,"active",s[0])},i:K,o:K,d(s){s&&F(e),l=!1,Be(a)}}}function Ze(n,e,t){let{title:l}=e,{icon:a}=e,{active:s}=e;const i=()=>{t(0,s=!s)};return n.$$set=o=>{"title"in o&&t(1,l=o.title),"icon"in o&&t(2,a=o.icon),"active"in o&&t(0,s=o.active)},[s,l,a,i]}class xe extends Q{constructor(e){super(),V(this,e,Ze,Xe,X,{title:1,icon:2,active:0})}}function et(n){let e,t,l,a,s,i,o,r,g;function d(_){n[3](_)}let S={icon:"eye",title:"Toggle password visibility."};return n[1]!==void 0&&(S.active=n[1]),s=new xe({props:S}),ae.push(()=>ie(s,"active",d)),{c(){e=h("div"),t=h("input"),a=I(),U(s.$$.fragment),c(t,"type",l=n[1]?"text":"password"),t.value=n[0],c(t,"placeholder","Password"),c(t,"autocomplete","current-password"),c(t,"class","svelte-12r6jli"),c(e,"class","svelte-12r6jli")},m(_,T){j(_,e,T),u(e,t),u(e,a),B(s,e,null),o=!0,r||(g=J(t,"input",n[2]),r=!0)},p(_,[T]){(!o||T&2&&l!==(l=_[1]?"text":"password"))&&c(t,"type",l),(!o||T&1&&t.value!==_[0])&&(t.value=_[0]);const A={};!i&&T&2&&(i=!0,A.active=_[1],oe(()=>i=!1)),s.$set(A)},i(_){o||(k(s.$$.fragment,_),o=!0)},o(_){E(s.$$.fragment,_),o=!1},d(_){_&&F(e),O(s),r=!1,g()}}}function tt(n,e,t){let{value:l}=e,a=!1;const s=o=>{t(0,l=o.target.value)};function i(o){a=o,t(1,a)}return n.$$set=o=>{"value"in o&&t(0,l=o.value)},[l,a,s,i]}class lt extends Q{constructor(e){super(),V(this,e,tt,et,X,{value:0})}}function Ae(n){let e,t;return{c(){e=h("span"),t=x(n[1])},m(l,a){j(l,e,a),u(e,t)},p(l,a){a&2&&ee(t,l[1])},d(l){l&&F(e)}}}function nt(n){let e,t,l,a,s,i,o,r,g,d,S,_;function T(p){n[6](p)}let A={placeholder:"Email",autocomplete:"email"};n[2]!==void 0&&(A.value=n[2]),t=new pe({props:A}),ae.push(()=>ie(t,"value",T));function P(p){n[7](p)}let L={};n[3]!==void 0&&(L.value=n[3]),s=new lt({props:L}),ae.push(()=>ie(s,"value",P));let b=typeof n[1]=="string"&&n[1]!==""&&Ae(n);return g=new ne({props:{text:n[0],title:"Click to sign in",disabled:n[4]}}),{c(){e=h("form"),U(t.$$.fragment),a=I(),U(s.$$.fragment),o=I(),b&&b.c(),r=I(),U(g.$$.fragment),c(e,"class","svelte-1tgd1i7")},m(p,w){j(p,e,w),B(t,e,null),u(e,a),B(s,e,null),u(e,o),b&&b.m(e,null),u(e,r),B(g,e,null),d=!0,S||(_=J(e,"submit",Re(n[5])),S=!0)},p(p,[w]){const R={};!l&&w&4&&(l=!0,R.value=p[2],oe(()=>l=!1)),t.$set(R);const y={};!i&&w&8&&(i=!0,y.value=p[3],oe(()=>i=!1)),s.$set(y),typeof p[1]=="string"&&p[1]!==""?b?b.p(p,w):(b=Ae(p),b.c(),b.m(e,r)):b&&(b.d(1),b=null);const Y={};w&1&&(Y.text=p[0]),w&16&&(Y.disabled=p[4]),g.$set(Y)},i(p){d||(k(t.$$.fragment,p),k(s.$$.fragment,p),k(g.$$.fragment,p),d=!0)},o(p){E(t.$$.fragment,p),E(s.$$.fragment,p),E(g.$$.fragment,p),d=!1},d(p){p&&F(e),O(t),O(s),b&&b.d(),O(g),S=!1,_()}}}function st(n,e,t){let l;const a=_e();let{submitLabel:s}=e,{error:i}=e,o="",r="";const g=()=>{l||a("submit",{email:o,password:r})};function d(_){o=_,t(2,o)}function S(_){r=_,t(3,r)}return n.$$set=_=>{"submitLabel"in _&&t(0,s=_.submitLabel),"error"in _&&t(1,i=_.error)},n.$$.update=()=>{n.$$.dirty&12&&t(4,l=!o||!r)},[s,i,o,r,l,g,d,S]}class De extends Q{constructor(e){super(),V(this,e,st,nt,X,{submitLabel:0,error:1})}}function at(n){let e,t;return{c(){e=h("img"),ge(e.src,t="/icon/google.png")||c(e,"src",t),c(e,"alt","Google"),c(e,"class","svelte-1daylrb")},m(l,a){j(l,e,a)},p:K,i:K,o:K,d(l){l&&F(e)}}}class it extends Q{constructor(e){super(),V(this,e,null,at,X,{})}}function ot(n){let e,t,l,a,s,i,o,r;return t=new it({}),{c(){e=h("button"),U(t.$$.fragment),l=I(),a=h("span"),s=x(n[0]),c(a,"class","svelte-w5bo0p"),c(e,"class","svelte-w5bo0p")},m(g,d){j(g,e,d),B(t,e,null),u(e,l),u(e,a),u(a,s),i=!0,o||(r=J(e,"click",n[2]),o=!0)},p(g,[d]){(!i||d&1)&&ee(s,g[0])},i(g){i||(k(t.$$.fragment,g),i=!0)},o(g){E(t.$$.fragment,g),i=!1},d(g){g&&F(e),O(t),o=!1,r()}}}function rt(n,e,t){let{content:l}=e;const a=_e(),s=()=>a("click");return n.$$set=i=>{"content"in i&&t(0,l=i.content)},[l,a,s]}class ut extends Q{constructor(e){super(),V(this,e,rt,ot,X,{content:0})}}function ct(n){let e,t,l,a,s,i,o,r,g,d,S,_,T,A,P,L,b;return s=new De({props:{submitLabel:"Sign In",error:n[0]}}),s.$on("submit",n[3]),g=new ut({props:{content:"Sign in With Google"}}),g.$on("click",n[4]),L=new De({props:{submitLabel:"Create Account",error:n[1]}}),L.$on("submit",n[5]),{c(){e=h("div"),t=h("div"),l=h("h3"),l.textContent="Sign In",a=I(),U(s.$$.fragment),i=I(),o=h("p"),o.textContent="or",r=I(),U(g.$$.fragment),d=I(),S=h("div"),_=I(),T=h("div"),A=h("h3"),A.textContent="Sign Up",P=I(),U(L.$$.fragment),c(o,"class","svelte-17klxkb"),c(t,"class","providerlist svelte-17klxkb"),c(S,"class","divider svelte-17klxkb"),c(T,"class","providerlist svelte-17klxkb"),c(e,"class","container svelte-17klxkb")},m(p,w){j(p,e,w),u(e,t),u(t,l),u(t,a),B(s,t,null),u(t,i),u(t,o),u(t,r),B(g,t,null),u(e,d),u(e,S),u(e,_),u(e,T),u(T,A),u(T,P),B(L,T,null),b=!0},p(p,[w]){const R={};w&1&&(R.error=p[0]),s.$set(R);const y={};w&2&&(y.error=p[1]),L.$set(y)},i(p){b||(k(s.$$.fragment,p),k(g.$$.fragment,p),k(L.$$.fragment,p),b=!0)},o(p){E(s.$$.fragment,p),E(g.$$.fragment,p),E(L.$$.fragment,p),b=!1},d(p){p&&F(e),O(s),O(g),O(L)}}}function ft(n,e,t){const l={"auth/too-many-requests":"Too many failed attempts. Try again later.","auth/wrong-password":"Wrong username or password.","auth/user-not-found":"Wrong username or password.","auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Invalid email address.","auth/password-too-short":"Password to short. Must be at least 8 letters."};let a="",s="";const i=async(d,S)=>{try{t(1,s=""),await d()}catch(_){_.code in l?S(l[_.code]):(console.error(_),S(_.message))}};return[a,s,i,d=>i(()=>se.signInWithEmail(d.detail.email,d.detail.password),S=>{t(0,a=S)}),()=>se.signInWithGoogle(),d=>i(()=>se.signUpWithEmail(d.detail.email,d.detail.password),S=>{t(1,s=S)})]}class gt extends Q{constructor(e){super(),V(this,e,ft,ct,X,{})}}function Ne(n,e,t){const l=n.slice();return l[5]=e[t],l}function pt(n){let e,t;return e=new gt({}),{c(){U(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p:K,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function mt(n){let e,t,l,a,s,i,o,r,g,d=(n[0].user.displayName??"Anonymous")+"",S,_,T,A=n[0].user.email+"",P,L,b,p,w,R,y,Y,m,q,M,H,$,Z,N,G,f=n[1].supertags.length===0&&Ge(),C=n[1].supertags,v=[];for(let D=0;D<C.length;D+=1)v[D]=Le(Ne(n,C,D));const re=D=>E(v[D],1,1,()=>{v[D]=null});return N=new ne({props:{text:"Sign out",title:"Click to sign out"}}),N.$on("click",n[4]),{c(){e=h("div"),t=h("div"),l=h("h2"),l.textContent="Signed in as",a=I(),s=h("div"),i=h("img"),r=I(),g=h("span"),S=x(d),_=I(),T=h("span"),P=x(A),L=I(),b=h("div"),p=h("h2"),p.textContent="Your supertags",w=I(),R=h("div"),y=I(),f&&f.c(),Y=I(),m=h("ul");for(let D=0;D<v.length;D+=1)v[D].c();q=I(),M=h("div"),H=h("h2"),H.textContent="Actions",$=I(),Z=h("div"),U(N.$$.fragment),c(l,"class","svelte-1lk6d9o"),c(i,"class","profile-picture svelte-1lk6d9o"),ge(i.src,o=n[0].user.photoURL??we)||c(i,"src",o),c(i,"alt","Profile"),c(g,"class","name svelte-1lk6d9o"),c(s,"class","overview svelte-1lk6d9o"),c(p,"class","svelte-1lk6d9o"),c(R,"class","supertags"),c(m,"class","svelte-1lk6d9o"),c(H,"class","svelte-1lk6d9o"),c(Z,"class","actions svelte-1lk6d9o"),c(e,"class","account-view svelte-1lk6d9o")},m(D,z){j(D,e,z),u(e,t),u(t,l),u(t,a),u(t,s),u(s,i),u(s,r),u(s,g),u(g,S),u(s,_),u(s,T),u(T,P),u(e,L),u(e,b),u(b,p),u(b,w),u(b,R),u(b,y),f&&f.m(b,null),u(b,Y),u(b,m);for(let W=0;W<v.length;W+=1)v[W]&&v[W].m(m,null);u(e,q),u(e,M),u(M,H),u(M,$),u(M,Z),B(N,Z,null),G=!0},p(D,z){if((!G||z&1&&!ge(i.src,o=D[0].user.photoURL??we))&&c(i,"src",o),(!G||z&1)&&d!==(d=(D[0].user.displayName??"Anonymous")+"")&&ee(S,d),(!G||z&1)&&A!==(A=D[0].user.email+"")&&ee(P,A),D[1].supertags.length===0?f||(f=Ge(),f.c(),f.m(b,Y)):f&&(f.d(1),f=null),z&2){C=D[1].supertags;let W;for(W=0;W<C.length;W+=1){const de=Ne(D,C,W);v[W]?(v[W].p(de,z),k(v[W],1)):(v[W]=Le(de),v[W].c(),k(v[W],1),v[W].m(m,null))}for(te(),W=C.length;W<v.length;W+=1)re(W);le()}},i(D){if(!G){for(let z=0;z<C.length;z+=1)k(v[z]);k(N.$$.fragment,D),G=!0}},o(D){v=v.filter(Boolean);for(let z=0;z<v.length;z+=1)E(v[z]);E(N.$$.fragment,D),G=!1},d(D){D&&F(e),f&&f.d(),me(v,D),O(N)}}}function Ge(n){let e;return{c(){e=h("span"),e.textContent="You don't have any supertags yet. You can create them when you have more than one tag active."},m(t,l){j(t,e,l)},d(t){t&&F(e)}}}function Le(n){let e,t;return e=new Ve({props:{supertag:n[5]}}),e.$on("remove",n[2]),e.$on("edit",n[3]),{c(){U(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const s={};a&2&&(s.supertag=l[5]),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function _t(n){let e,t,l,a;const s=[mt,pt],i=[];function o(r,g){return r[0].loggedIn?0:1}return e=o(n),t=i[e]=s[e](n),{c(){t.c(),l=Ue()},m(r,g){i[e].m(r,g),j(r,l,g),a=!0},p(r,[g]){let d=e;e=o(r),e===d?i[e].p(r,g):(te(),E(i[d],1,1,()=>{i[d]=null}),le(),t=i[e],t?t.p(r,g):(t=i[e]=s[e](r),t.c()),k(t,1),t.m(l.parentNode,l))},i(r){a||(k(t),a=!0)},o(r){E(t),a=!1},d(r){i[e].d(r),r&&F(l)}}}function dt(n,e,t){let l,a;return ke(n,se,r=>t(0,l=r)),ke(n,ce,r=>t(1,a=r)),[l,a,r=>ce.deleteSupertag(r.detail),r=>{ce.updateSupertag(r.detail.oldName,r.detail.newSupertag)},()=>se.signOut()]}class ht extends Q{constructor(e){super(),V(this,e,dt,_t,X,{})}}export{ht as default};
